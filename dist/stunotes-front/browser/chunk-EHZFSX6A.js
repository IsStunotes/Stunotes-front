import{a as N}from"./chunk-UCJ52JWB.js";import{a as B}from"./chunk-OZJ2RSHX.js";import{a as I}from"./chunk-LIDSFJIZ.js";import{a as M}from"./chunk-J5CVK4QX.js";import{a as A}from"./chunk-AWXY37MH.js";import{a as T}from"./chunk-UGJ6NOTJ.js";import{a as P}from"./chunk-VBS6FHQU.js";import"./chunk-EV5VSRPK.js";import{f as O}from"./chunk-VFWRGXPW.js";import{Da as l,Ib as k,Jb as E,Kb as D,Lb as S,Oa as m,Pa as n,Qa as o,Ra as x,U as f,Ua as C,V as g,Va as u,Wa as d,ab as U,cb as r,db as y,eb as _,mb as h,nb as b,ob as F,pa as a,ta as v,za as w}from"./chunk-FOFVNQTZ.js";import"./chunk-EQDQRRRY.js";function J(i,e){if(i&1){let t=C();n(0,"div",19),u("click",function(){let c=f(t).$implicit,p=d(2);return g(p.irADetalleTarea(c.id))}),n(1,"div",20)(2,"h3",21),r(3),o(),n(4,"p",22),r(5),h(6,"date"),o()(),x(7,"i",23),o()}if(i&2){let t=e.$implicit;a(3),y(t.title),a(2),_("Creado: ",b(6,2,t.createdAt,"dd/MM/yyyy"))}}function z(i,e){if(i&1&&(n(0,"div"),l(1,J,8,5,"div",18),o()),i&2){let t=d();a(),m("ngForOf",t.nextTasks)}}function j(i,e){i&1&&(n(0,"p",24),r(1,"No tienes tareas creadas."),o())}function $(i,e){if(i&1){let t=C();n(0,"div",27),u("click",function(){let c=f(t).$implicit,p=d(2);return g(p.irADetalleRepositorio(c.id))}),n(1,"h3",21),r(2),o(),n(3,"p",22),r(4),o()()}if(i&2){let t=e.$implicit;a(2),_("Repositorio ",t.id),a(2),_("Documentos: ",t.documents.length||0)}}function Y(i,e){if(i&1&&(n(0,"div",25),l(1,$,5,2,"div",26),o()),i&2){let t=d();a(),m("ngForOf",t.repositorios)}}function L(i,e){i&1&&(n(0,"p",24),r(1,"No tienes repositorios creados."),o())}function Z(i,e){if(i&1){let t=C();n(0,"div",33),u("click",function(){let c=f(t).$implicit,p=d(2);return g(p.irADetalleDocumento(c.id))}),n(1,"h3",21),r(2),o(),n(3,"p",22),r(4),o()()}if(i&2){let t=e.$implicit;a(2),y(t.title),a(2),_("Versi\xF3n: ",t.version)}}function K(i,e){if(i&1&&(n(0,"div",28)(1,"div",29),l(2,Z,5,2,"div",30),o(),n(3,"div",31),x(4,"i",32),o()()),i&2){let t=d();a(2),m("ngForOf",t.documentos)}}function Q(i,e){i&1&&(n(0,"p",24),r(1,"No tienes documentos creados."),o())}function q(i,e){if(i&1){let t=C();n(0,"div",19),u("click",function(){let c=f(t).$implicit,p=d(2);return g(p.irADetalleNote(c.id))}),n(1,"div",20)(2,"h3",21),r(3),o(),n(4,"p",22),r(5),h(6,"date"),o()(),x(7,"i",23),o()}if(i&2){let t=e.$implicit;a(3),y(t.title),a(2),_("Creado: ",b(6,2,t.createdAt,"dd/MM/yyyy"))}}function G(i,e){if(i&1&&(n(0,"div"),l(1,q,8,5,"div",18),o()),i&2){let t=d();a(),m("ngForOf",t.notes)}}function W(i,e){i&1&&(n(0,"p",24),r(1,"No tienes notas creadas."),o())}var R=class i{constructor(e,t,s,c,p){this.taskService=e;this.documentService=t;this.repositoryService=s;this.router=c;this.noteService=p}user=null;saludo="";nextTasks=[];documentos=[];repositorios=[];notes=[];ngOnInit(){let e=localStorage.getItem("user");e&&(this.user=JSON.parse(e)),this.generarSaludo(),this.obtenerTareasProximas(),this.obtenerDocumentos(),this.obtenerRepositorios(),this.getNotes()}generarSaludo(){let e=new Date().getHours();e<12?this.saludo="Buenos d\xEDas":e<18?this.saludo="Buenas tardes":this.saludo="Buenas noches"}obtenerTareasProximas(){this.taskService.getTasks(0,5,void 0,void 0,"createdAt","asc").subscribe({next:e=>{this.nextTasks=e.content.filter(t=>t.createdAt).slice(0,5)},error:e=>{console.error("Error al cargar tareas pr\xF3ximas:",e)}})}obtenerRepositorios(){let e=JSON.parse(localStorage.getItem("user")||"{}");e?.id&&this.repositoryService.getRepositoriesByUsuarioId(e.id).subscribe({next:t=>this.repositorios=t,error:t=>console.error("Error al obtener repositorios:",t)})}irADetalleTarea(e){this.router.navigate(["/tasks",e,"edit"])}crearNuevaTarea(){this.router.navigate(["/tasks/createTask"])}obtenerDocumentos(){let e=JSON.parse(localStorage.getItem("user")||"{}");e&&e.id&&this.documentService.getDocumentsByUserId(e.id).subscribe({next:t=>this.documentos=t.slice(0,5),error:t=>console.error("Error al obtener documentos:",t)})}irADetalleDocumento(e){this.router.navigate([`/document/${e}/comments`])}crearRepositorio(){this.router.navigate(["/repositorios/list"])}irADetalleRepositorio(e){this.router.navigate([`/repositories/${e}`])}newNote(){this.router.navigate(["/notes/createNote"])}irADetalleNote(e){this.router.navigate(["/notes",e,"edit"])}getNotes(){this.noteService.getNotes(0,5,void 0,void 0,"createdAt","asc").subscribe({next:e=>{this.notes=e.content.filter(t=>t.createdAt).slice(0,5)},error:e=>{console.error("Error al cargar las notas:",e)}})}static \u0275fac=function(t){return new(t||i)(v(B),v(T),v(I),v(O),v(N))};static \u0275cmp=w({type:i,selectors:[["app-home"]],decls:51,vars:11,consts:[["noTasks",""],["noRepos",""],["noDocs",""],["noNotes",""],[1,"dashboard-wrapper"],[1,"welcome-section","animate-fade"],[1,"animate-drop"],[1,"username"],[1,"subtitle","animate-rise"],[1,"task-section"],[1,"task-section-header"],[1,"create-task-btn",3,"click"],[1,"plus-icon"],[4,"ngIf","ngIfElse"],[1,"repository-section"],[1,"repository-section-header"],["class","repository-list",4,"ngIf","ngIfElse"],["class","document-carousel-wrapper",4,"ngIf","ngIfElse"],["class","task-card",3,"click",4,"ngFor","ngForOf"],[1,"task-card",3,"click"],[1,"task-info"],[1,"task-title"],[1,"task-date"],[1,"fas","fa-chevron-right","arrow-icon"],[1,"no-task-msg"],[1,"repository-list"],["class","repository-card",3,"click",4,"ngFor","ngForOf"],[1,"repository-card",3,"click"],[1,"document-carousel-wrapper"],[1,"document-carousel"],["class","document-card",3,"click",4,"ngFor","ngForOf"],[1,"carousel-arrow","right"],[1,"fas","fa-chevron-right"],[1,"document-card",3,"click"]],template:function(t,s){if(t&1){let c=C();x(0,"app-navbar")(1,"app-sidebar"),n(2,"div",4)(3,"div",5)(4,"h1",6),r(5),n(6,"span",7),r(7),o()(),n(8,"p",8),r(9),o()(),n(10,"section",9)(11,"div",10)(12,"h2"),r(13,"\u{1F4CC} Tareas por cumplir"),o(),n(14,"button",11),u("click",function(){return f(c),g(s.crearNuevaTarea())}),n(15,"span",12),r(16,"+"),o(),r(17," Nueva tarea "),o()(),l(18,z,2,1,"div",13)(19,j,2,0,"ng-template",null,0,F),o(),n(21,"section",14)(22,"div",15)(23,"h2"),r(24,"\u{1F4C1} Repositorios"),o(),n(25,"button",11),u("click",function(){return f(c),g(s.crearRepositorio())}),n(26,"span",12),r(27,"+"),o(),r(28," Ver repositorios "),o()(),l(29,Y,2,1,"div",16)(30,L,2,0,"ng-template",null,1,F),o(),n(32,"section",9)(33,"div",10)(34,"h2"),r(35,"\u{1F4C4} Documentos creados"),o()(),l(36,K,5,1,"div",17)(37,Q,2,0,"ng-template",null,2,F),o(),n(39,"section",9)(40,"div",10)(41,"h2"),r(42,"\u{1F4CC} Mis Notas"),o(),n(43,"button",11),u("click",function(){return f(c),g(s.newNote())}),n(44,"span",12),r(45,"+"),o(),r(46," Nueva Nota "),o()(),l(47,G,2,1,"div",13)(48,W,2,0,"ng-template",null,3,F),o()(),x(50,"app-footer")}if(t&2){let c=U(20),p=U(31),H=U(38),V=U(49);a(5),_("",s.saludo,", "),a(2),y(s.user.name),a(2),_(" ",s.user.role==="TEACHER"?"Inspira y transforma vidas a trav\xE9s de la educaci\xF3n.":"Organiza tus actividades y mejora tu aprendizaje d\xEDa a d\xEDa."," "),a(9),m("ngIf",s.nextTasks.length>0)("ngIfElse",c),a(11),m("ngIf",s.repositorios.length>0)("ngIfElse",p),a(7),m("ngIf",s.documentos.length>0)("ngIfElse",H),a(11),m("ngIf",s.notes.length>0)("ngIfElse",V)}},dependencies:[S,k,E,D,A,P,M],styles:['@font-face{font-family:Poppins;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiEyp8kv8JHgFVrJJbecmNE.woff2) format("woff2");unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+20F0,U+25CC,U+A830-A839,U+A8E0-A8FF,U+11B00-11B09}@font-face{font-family:Poppins;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiEyp8kv8JHgFVrJJnecmNE.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Poppins;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiEyp8kv8JHgFVrJJfecg.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Poppins;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiByp8kv8JHgFVrLEj6Z11lFc-K.woff2) format("woff2");unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+20F0,U+25CC,U+A830-A839,U+A8E0-A8FF,U+11B00-11B09}@font-face{font-family:Poppins;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiByp8kv8JHgFVrLEj6Z1JlFc-K.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Poppins;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiByp8kv8JHgFVrLEj6Z1xlFQ.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Poppins;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiByp8kv8JHgFVrLCz7Z11lFc-K.woff2) format("woff2");unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+20F0,U+25CC,U+A830-A839,U+A8E0-A8FF,U+11B00-11B09}@font-face{font-family:Poppins;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiByp8kv8JHgFVrLCz7Z1JlFc-K.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Poppins;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiByp8kv8JHgFVrLCz7Z1xlFQ.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}[_nghost-%COMP%]{font-family:Poppins,sans-serif;background:#fdfdfd;display:block}.dashboard-wrapper[_ngcontent-%COMP%]{max-width:1000px;margin:40px auto;padding:0 20px}.welcome-section[_ngcontent-%COMP%]{text-align:center;margin-bottom:40px}.welcome-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:48px;font-weight:700;color:#1f2937;margin-bottom:12px}.username[_ngcontent-%COMP%]{color:#8b5cf6}.subtitle[_ngcontent-%COMP%]{color:#6b7280;font-size:18px}.task-section[_ngcontent-%COMP%]{background:linear-gradient(to right,#ede9fe,#f3f0ff);padding:30px;border-radius:20px;box-shadow:0 8px 24px #0000000a;margin-bottom:40px}.task-section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.task-section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:22px;color:#7c3aed;margin:0}.task-card[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #e5e7eb;border-radius:12px;padding:16px 20px;display:flex;justify-content:space-between;align-items:center;transition:all .2s ease-in-out;margin-bottom:12px;cursor:pointer}.task-card[_ngcontent-%COMP%]:hover{background-color:#f3f4f6;transform:translateY(-2px)}.task-title[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#111827;margin:0}.task-date[_ngcontent-%COMP%]{font-size:14px;color:#6b7280}.arrow-icon[_ngcontent-%COMP%]{color:#9ca3af;font-size:14px;margin-left:10px}.no-task-msg[_ngcontent-%COMP%]{color:#6b7280;font-style:italic;padding:12px;text-align:center}.create-task-btn[_ngcontent-%COMP%]{background-color:#7c3aed;color:#fff;border:none;padding:10px 16px;border-radius:8px;font-size:14px;font-weight:500;cursor:pointer;display:flex;align-items:center;gap:6px;transition:background .3s ease}.create-task-btn[_ngcontent-%COMP%]:hover{background-color:#6d28d9}.plus-icon[_ngcontent-%COMP%]{font-size:18px;font-weight:700;line-height:1}.document-carousel-wrapper[_ngcontent-%COMP%]{position:relative;overflow-x:auto;padding-bottom:10px}.document-carousel[_ngcontent-%COMP%]{display:flex;gap:16px;overflow-x:auto;scroll-snap-type:x mandatory;padding-bottom:8px}.document-card[_ngcontent-%COMP%]{min-width:240px;flex:0 0 auto;background-color:#fff;border:1px solid #e5e7eb;border-radius:12px;padding:16px;scroll-snap-align:start;cursor:pointer;transition:transform .3s ease,background-color .3s ease}.document-card[_ngcontent-%COMP%]:hover{background-color:#f3f4f6;transform:translateY(-2px)}.carousel-arrow.right[_ngcontent-%COMP%]{position:absolute;top:50%;right:0;transform:translateY(-50%);background:linear-gradient(to left,#f9fafb 70%,transparent);padding:10px;pointer-events:none}.carousel-arrow[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#9ca3af;font-size:20px}.repository-section[_ngcontent-%COMP%]{background:linear-gradient(to right,#ede9fe,#f3f0ff);padding:30px;border-radius:20px;box-shadow:0 8px 24px #0000000a;margin-bottom:40px}.repository-section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.repository-section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:22px;color:#7c3aed;margin:0}.repository-list[_ngcontent-%COMP%]{display:flex;gap:16px;overflow-x:auto;scroll-snap-type:x mandatory;padding-bottom:8px}.repository-card[_ngcontent-%COMP%]{min-width:240px;flex:0 0 auto;background-color:#fff;border:1px solid #e5e7eb;border-radius:12px;padding:16px;scroll-snap-align:start;cursor:pointer;transition:transform .3s ease,background-color .3s ease}.repository-card[_ngcontent-%COMP%]:hover{background-color:#f3f4f6;transform:translateY(-2px)}@keyframes _ngcontent-%COMP%_drop{0%{opacity:0;transform:translateY(-40px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_rise{0%{opacity:0;transform:translateY(40px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_fade{0%{opacity:0}to{opacity:1}}.animate-drop[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_drop .8s ease-out forwards}.animate-rise[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_rise .8s ease-out forwards;animation-delay:.2s}.animate-fade[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fade .5s ease-out forwards}']})};export{R as HomeComponent};
