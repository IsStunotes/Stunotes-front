import{a as K}from"./chunk-G4V5YMAD.js";import{a as J}from"./chunk-QBIKFWZI.js";import{a as X,b as T,c as Z,d as ee,g as te,j as ne,k as ie,q as re,s as oe}from"./chunk-RI57JWSE.js";import{a as Q}from"./chunk-EV5VSRPK.js";import{f as R}from"./chunk-BXLK4DMO.js";import{Da as g,Fa as k,Jb as I,K as Y,Kb as E,Lb as W,Mb as G,Nb as P,O as j,Oa as c,Pa as o,Qa as a,Ra as C,U as v,Ua as x,V as h,Va as m,Vb as q,Wa as p,bb as w,cb as l,da as V,db as _,eb as b,g as U,k as D,mb as A,n as N,ob as L,pa as d,ta as M,v as F,za as S}from"./chunk-PS3QJLTI.js";import"./chunk-EQDQRRRY.js";function pe(i,e){if(i&1&&(o(0,"div",16)(1,"div",17),l(2),a(),o(3,"div",18),l(4),a()()),i&2){let t=e.$implicit;d(2),_(t.name),d(2),_(t.date)}}function me(i,e){if(i&1&&(o(0,"div",24),l(1),a()),i&2){let t=e.$implicit;d(),b(" ",t.title," ")}}function ge(i,e){if(i&1&&(o(0,"div",22),g(1,me,2,1,"div",23),a()),i&2){let t=e.$implicit,n=p().$implicit,r=p(2);d(),c("ngForOf",r.getEventsForDayAndTime(t.fullDate,n))}}function fe(i,e){if(i&1&&(o(0,"div",19)(1,"div",20),l(2),a(),g(3,ge,2,1,"div",21),a()),i&2){let t=e.$implicit,n=p(2);d(2),_(t),d(),c("ngForOf",n.weekDays)}}function ue(i,e){if(i&1){let t=x();o(0,"div",1),m("click",function(){v(t);let r=p();return h(r.onClose())}),o(1,"div",2),m("click",function(r){return v(t),h(r.stopPropagation())}),o(2,"div",3)(3,"div",4)(4,"div",5)(5,"h2"),l(6,"Calendario Semanal"),a(),o(7,"h3"),l(8),a()(),o(9,"div",6)(10,"div",7),C(11,"div",8),g(12,pe,5,2,"div",9),a(),o(13,"div",10),g(14,fe,4,2,"div",11),a()()()(),o(15,"div",12)(16,"button",13),m("click",function(){v(t);let r=p();return h(r.onPrint())}),l(17," Imprimir "),a(),o(18,"button",14),m("click",function(){v(t);let r=p();return h(r.onSavePDF())}),l(19," Guardar PDF "),a(),o(20,"button",15),m("click",function(){v(t);let r=p();return h(r.onClose())}),l(21," Cancelar "),a()()()()}if(i&2){let t=p();d(8),_(t.getCurrentWeekTitle()),d(4),c("ngForOf",t.weekDays),d(2),c("ngForOf",t.timeSlots)}}var z=class i{isVisible=!1;events=[];currentDate=new Date;closeModal=new k;printCalendar=new k;savePDF=new k;weekDays=[];timeSlots=[];weekDayNames=["DOM","LUN","MAR","MI\xC9","JUE","VIE","S\xC1B"];monthNames=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"];ngOnChanges(){this.generateTimeSlots(),this.generateCurrentWeek(),console.log("Events updated for print modal:",this.events.length)}generateTimeSlots(){this.timeSlots=[];for(let e=6;e<=22;e++)this.timeSlots.push(`${e.toString().padStart(2,"0")}:00`)}generateCurrentWeek(){let e=new Date(this.currentDate),t=e.getDay(),n=e.getDate()-t;e.setDate(n),this.weekDays=[];let r=new Date(e);for(let s=0;s<7;s++)this.weekDays.push({name:this.weekDayNames[s],date:r.getDate(),fullDate:new Date(r)}),r.setDate(r.getDate()+1)}getCurrentWeekTitle(){if(this.weekDays.length===0)return"";let e=this.weekDays[0].fullDate,t=this.weekDays[6].fullDate,n=`${e.getDate()} ${this.monthNames[e.getMonth()]}`,r=`${t.getDate()} ${this.monthNames[t.getMonth()]} ${t.getFullYear()}`;return`${n} - ${r}`}getEventsForDayAndTime(e,t){if(!this.events||this.events.length===0)return[];let n=new Date(e),r=parseInt(t.split(":")[0]);return this.events.filter(s=>{let f=new Date(s.start);return f.toDateString()===n.toDateString()&&f.getHours()===r})}formatEventDate(e){return new Date(e).toLocaleDateString("es-ES",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}onClose(){this.closeModal.emit()}onPrint(){setTimeout(()=>{window.print()},100),this.printCalendar.emit()}onSavePDF(){alert("Funcionalidad de PDF no implementada. Use la opci\xF3n de imprimir del navegador."),this.savePDF.emit()}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=S({type:i,selectors:[["app-calendar-print-modal"]],inputs:{isVisible:"isVisible",events:"events",currentDate:"currentDate"},outputs:{closeModal:"closeModal",printCalendar:"printCalendar",savePDF:"savePDF"},features:[V],decls:1,vars:1,consts:[["class","modal-overlay",3,"click",4,"ngIf"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"modal-body"],[1,"preview-container"],[1,"print-header"],[1,"weekly-calendar-preview"],[1,"week-header-print"],[1,"time-column-header-print"],["class","day-header-print",4,"ngFor","ngForOf"],[1,"week-grid-print"],["class","time-row-print",4,"ngFor","ngForOf"],[1,"modal-footer","no-print"],[1,"action-btn","print-btn",3,"click"],[1,"action-btn","pdf-btn",3,"click"],[1,"action-btn","cancel-btn",3,"click"],[1,"day-header-print"],[1,"day-name-print"],[1,"day-date-print"],[1,"time-row-print"],[1,"time-label-print"],["class","time-slot-print",4,"ngFor","ngForOf"],[1,"time-slot-print"],["class","event-item-print",4,"ngFor","ngForOf"],[1,"event-item-print"]],template:function(t,n){t&1&&g(0,ue,22,3,"div",0),t&2&&c("ngIf",n.isVisible)},dependencies:[P,I,E],styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000000b3;display:flex;justify-content:center;align-items:center;z-index:1000;-webkit-backdrop-filter:blur(3px);backdrop-filter:blur(3px)}.modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:12px;width:90%;max-width:900px;max-height:90vh;overflow:hidden;box-shadow:0 20px 40px #0000004d;animation:_ngcontent-%COMP%_modalSlideIn .3s ease-out;font-family:Lato,sans-serif}@keyframes _ngcontent-%COMP%_modalSlideIn{0%{opacity:0;transform:translateY(-30px) scale(.9)}to{opacity:1;transform:translateY(0) scale(1)}}.modal-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:20px 25px;display:flex;justify-content:space-between;align-items:center;border-radius:12px 12px 0 0}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:24px;font-weight:600}.view-controls[_ngcontent-%COMP%]{display:flex;gap:10px}.view-btn[_ngcontent-%COMP%]{background-color:#fff3;border:2px solid rgba(255,255,255,.3);color:#fff;padding:8px 16px;border-radius:5px;cursor:pointer;font-weight:600;transition:all .3s ease;font-size:14px}.view-btn[_ngcontent-%COMP%]:hover{background-color:#ffffff4d;border-color:#ffffff80}.view-btn.active[_ngcontent-%COMP%]{background-color:#fff;color:#667eea;border-color:#fff}.close-btn[_ngcontent-%COMP%]{background:#fff3;border:none;color:#fff;font-size:28px;width:40px;height:40px;border-radius:50%;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .3s ease}.close-btn[_ngcontent-%COMP%]:hover{background:#ffffff4d;transform:rotate(90deg)}.modal-body[_ngcontent-%COMP%]{padding:25px;max-height:60vh;overflow-y:auto}.preview-container[_ngcontent-%COMP%]{border:2px solid #e1e5e9;border-radius:8px;padding:15px;background:#f8f9fa;min-height:400px}.preview-container[_ngcontent-%COMP%]     .fc{background:#fff;border-radius:6px;box-shadow:0 2px 8px #0000001a}.preview-container[_ngcontent-%COMP%]     .fc-toolbar{background:#f1f3f4;padding:10px;border-radius:6px 6px 0 0}.preview-container[_ngcontent-%COMP%]     .fc-toolbar-title{font-size:18px;font-weight:600;color:#2c3e50}.preview-container[_ngcontent-%COMP%]     .fc-button{background:#3498db;border-color:#3498db;border-radius:4px;font-weight:500}.preview-container[_ngcontent-%COMP%]     .fc-button:hover{background:#2980b9;border-color:#2980b9}.modal-footer[_ngcontent-%COMP%]{background:#f8f9fa;padding:20px 25px;display:flex;justify-content:flex-end;gap:15px;border-top:1px solid #e1e5e9}.action-btn[_ngcontent-%COMP%]{background:#8b5cf6;color:#fff;font-weight:500;border:none;font-size:14px;border-radius:6px;padding:8px 12px;cursor:pointer;transition:all .2s ease;min-width:100px;display:inline-flex;align-items:center;gap:8px;justify-content:center;white-space:nowrap}.action-btn[_ngcontent-%COMP%]:hover{background:#7c3aed;transform:translateY(-1px);box-shadow:0 2px 4px #0000001a}.print-btn[_ngcontent-%COMP%]{background:#8b5cf6}.print-btn[_ngcontent-%COMP%]:hover{background:#7c3aed;transform:translateY(-1px);box-shadow:0 2px 4px #0000001a}.pdf-btn[_ngcontent-%COMP%]{background:#a855f7}.pdf-btn[_ngcontent-%COMP%]:hover{background:#9333ea;transform:translateY(-1px);box-shadow:0 2px 4px #0000001a}.cancel-btn[_ngcontent-%COMP%]{background:#6b7280}.cancel-btn[_ngcontent-%COMP%]:hover{background:#4b5563;transform:translateY(-1px);box-shadow:0 2px 4px #0000001a}.print-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px;padding-bottom:15px;border-bottom:2px solid #e5e7eb}.print-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 5px;font-size:24px;font-weight:600;color:#374151}.print-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:16px;font-weight:400;color:#6b7280}.weekly-calendar-preview[_ngcontent-%COMP%]{width:100%;font-size:12px}.week-header-print[_ngcontent-%COMP%]{display:grid;grid-template-columns:80px repeat(7,1fr);background-color:#f8fafc;border:1px solid #e5e7eb;border-bottom:none}.time-column-header-print[_ngcontent-%COMP%]{padding:10px 5px;border-right:1px solid #e5e7eb;background-color:#f1f5f9}.day-header-print[_ngcontent-%COMP%]{padding:10px 5px;text-align:center;border-right:1px solid #e5e7eb;background-color:#f8fafc}.day-header-print[_ngcontent-%COMP%]:last-child{border-right:none}.day-name-print[_ngcontent-%COMP%]{font-weight:600;color:#374151;font-size:11px;margin-bottom:2px}.day-date-print[_ngcontent-%COMP%]{font-size:14px;color:#1f2937;font-weight:500}.week-grid-print[_ngcontent-%COMP%]{border:1px solid #e5e7eb;border-top:none}.time-row-print[_ngcontent-%COMP%]{display:grid;grid-template-columns:80px repeat(7,1fr);min-height:50px;border-bottom:1px solid #f3f4f6}.time-row-print[_ngcontent-%COMP%]:last-child{border-bottom:1px solid #e5e7eb}.time-label-print[_ngcontent-%COMP%]{padding:8px 5px;text-align:center;font-size:11px;color:#6b7280;border-right:1px solid #e5e7eb;background-color:#f9fafb;display:flex;align-items:flex-start;justify-content:center;font-weight:500}.time-slot-print[_ngcontent-%COMP%]{border-right:1px solid #e5e7eb;padding:4px;position:relative;min-height:50px}.time-slot-print[_ngcontent-%COMP%]:last-child{border-right:none}.event-item-print[_ngcontent-%COMP%]{background-color:#3b82f6;color:#fff;padding:3px 6px;border-radius:3px;font-size:10px;margin-bottom:2px;font-weight:500;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;line-height:1.2}@media print{.modal-overlay[_ngcontent-%COMP%]{position:static;background:none;-webkit-backdrop-filter:none;backdrop-filter:none;z-index:auto}.modal-content[_ngcontent-%COMP%]{box-shadow:none;border-radius:0;max-width:none;max-height:none;width:100%;margin:0;padding:0}.modal-body[_ngcontent-%COMP%], .preview-container[_ngcontent-%COMP%]{padding:0;margin:0}.no-print[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]{display:none!important}.weekly-calendar-preview[_ngcontent-%COMP%]{page-break-inside:avoid}.print-header[_ngcontent-%COMP%]{margin-bottom:15px;padding-bottom:10px}.print-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px}.print-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:14px}.time-row-print[_ngcontent-%COMP%]{page-break-inside:avoid;min-height:40px}.event-item-print[_ngcontent-%COMP%]{font-size:9px;padding:2px 4px}.time-label-print[_ngcontent-%COMP%], .day-name-print[_ngcontent-%COMP%]{font-size:10px}.day-date-print[_ngcontent-%COMP%]{font-size:12px}}@media (max-width: 768px){.modal-content[_ngcontent-%COMP%]{width:95%;max-height:95vh}.modal-header[_ngcontent-%COMP%]{padding:15px 20px;flex-direction:column;gap:15px;align-items:flex-start}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;align-self:center}.view-controls[_ngcontent-%COMP%]{align-self:center}.close-btn[_ngcontent-%COMP%]{position:absolute;top:15px;right:20px}.modal-body[_ngcontent-%COMP%]{padding:15px;max-height:50vh}.modal-footer[_ngcontent-%COMP%]{padding:15px 20px;flex-direction:column;gap:10px}.action-btn[_ngcontent-%COMP%]{width:100%;padding:12px;margin-bottom:8px}.preview-container[_ngcontent-%COMP%]{padding:10px;min-height:300px}}@media (max-width: 480px){.modal-content[_ngcontent-%COMP%]{width:98%;max-height:98vh}.modal-header[_ngcontent-%COMP%]{padding:10px 15px}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:18px}.view-btn[_ngcontent-%COMP%]{padding:6px 12px;font-size:12px}.close-btn[_ngcontent-%COMP%]{width:35px;height:35px;font-size:24px;top:10px;right:15px}.preview-container[_ngcontent-%COMP%]{min-height:250px}}.preview-container[_ngcontent-%COMP%]{padding:20px;max-height:70vh;overflow-y:auto}@media screen{.modal-content[_ngcontent-%COMP%]{max-height:95vh}.weekly-calendar-preview[_ngcontent-%COMP%]{border:1px solid #e5e7eb;border-radius:8px;overflow:hidden}.week-header-print[_ngcontent-%COMP%]{background-color:#f8fafc}.time-slot-print[_ngcontent-%COMP%]:nth-child(2n){background-color:#fafafa}}"]})};var O=class i{constructor(e,t){this.http=e;this.router=t}apiUrl=`${Q.apiUrl}/reminder`;eventsSubject=new U([]);events$=this.eventsSubject.asObservable();handleAuthError=e=>e.status===401||e.status===403?(this.clearAuthData(),this.router.navigate(["/auth"]),D(()=>new Error("Sesi\xF3n expirada. Por favor, inicia sesi\xF3n nuevamente."))):D(()=>e);clearAuthData(){localStorage.removeItem("token"),localStorage.removeItem("user")}isAuthenticated(){return!!localStorage.getItem("token")}validateAuthentication(){if(!this.isAuthenticated())throw this.router.navigate(["/auth"]),new Error("Usuario no autenticado")}getEvents(){try{return this.validateAuthentication(),this.http.get(this.apiUrl).pipe(N(e=>e.map(this.mapReminderToEvent)),F(this.handleAuthError))}catch(e){return D(()=>e)}}createReminder(e,t,n){try{this.validateAuthentication();let r={titulo:e,dateTime:t,activityId:n};return this.http.post(this.apiUrl,r).pipe(N(this.mapReminderToEvent),F(this.handleAuthError))}catch(r){return D(()=>r)}}deleteReminder(e){try{return this.validateAuthentication(),this.http.delete(`${this.apiUrl}/${e}`).pipe(F(this.handleAuthError))}catch(t){return D(()=>t)}}mapReminderToEvent=e=>{let t=new Date(e.dateTime),n=new Date(t.getTime()+60*60*1e3);return{id:e.id.toString(),title:e.titulo,start:e.dateTime,end:n.toISOString(),allDay:!1,activityName:e.activityName||e.titulo}};updateEvents(e){this.eventsSubject.next([...e])}getCurrentEvents(){return this.eventsSubject.value}addEvent(e){let t=this.getCurrentEvents();this.updateEvents([...t,e])}updateEventInSubject(e){let t=this.getCurrentEvents(),n=t.findIndex(r=>r.id===e.id);if(n!==-1){let r=[...t];r[n]=e,this.updateEvents(r)}}removeEventFromSubject(e){let n=this.getCurrentEvents().filter(r=>r.id!==e);this.updateEvents(n)}static \u0275fac=function(t){return new(t||i)(j(q),j(R))};static \u0275prov=Y({token:i,factory:i.\u0275fac,providedIn:"root"})};function he(i,e){i&1&&(o(0,"div",19),l(1," El t\xEDtulo es obligatorio "),a())}function _e(i,e){i&1&&(o(0,"div",19),l(1," La fecha es obligatoria "),a())}function xe(i,e){i&1&&(o(0,"div",19),l(1," La hora es obligatoria "),a())}function be(i,e){i&1&&(o(0,"span"),l(1,"Creando..."),a())}function Ce(i,e){i&1&&(o(0,"span"),l(1,"Crear Recordatorio"),a())}function we(i,e){if(i&1&&(o(0,"div",20),l(1),a()),i&2){let t=p(2);d(),b(" ",t.errorMessage," ")}}function ye(i,e){if(i&1){let t=x();o(0,"div",1),m("click",function(){v(t);let r=p();return h(r.onClose())}),o(1,"div",2),m("click",function(r){return v(t),h(r.stopPropagation())}),o(2,"div",3)(3,"h3"),l(4,"Crear Recordatorio"),a(),o(5,"button",4),m("click",function(){v(t);let r=p();return h(r.onClose())}),l(6,"\xD7"),a()(),o(7,"form",5),m("ngSubmit",function(){v(t);let r=p();return h(r.onSubmit())}),o(8,"div",6)(9,"label",7),l(10,"T\xEDtulo del Recordatorio *"),a(),C(11,"input",8),g(12,he,2,0,"div",9),a(),o(13,"div",6)(14,"label",10),l(15,"Fecha *"),a(),C(16,"input",11),g(17,_e,2,0,"div",9),a(),o(18,"div",6)(19,"label",12),l(20,"Hora *"),a(),C(21,"input",13),g(22,xe,2,0,"div",9),a(),o(23,"div",14)(24,"button",15),m("click",function(){v(t);let r=p();return h(r.onClose())}),l(25," Cancelar "),a(),o(26,"button",16),g(27,be,2,0,"span",17)(28,Ce,2,0,"span",17),a()()(),g(29,we,2,1,"div",18),a()()}if(i&2){let t,n,r,s,f,y,u=p();d(7),c("formGroup",u.reminderForm),d(4),w("is-invalid",((t=u.reminderForm.get("titulo"))==null?null:t.invalid)&&((t=u.reminderForm.get("titulo"))==null?null:t.touched)),d(),c("ngIf",((n=u.reminderForm.get("titulo"))==null?null:n.invalid)&&((n=u.reminderForm.get("titulo"))==null?null:n.touched)),d(4),w("is-invalid",((r=u.reminderForm.get("fecha"))==null?null:r.invalid)&&((r=u.reminderForm.get("fecha"))==null?null:r.touched)),d(),c("ngIf",((s=u.reminderForm.get("fecha"))==null?null:s.invalid)&&((s=u.reminderForm.get("fecha"))==null?null:s.touched)),d(4),w("is-invalid",((f=u.reminderForm.get("hora"))==null?null:f.invalid)&&((f=u.reminderForm.get("hora"))==null?null:f.touched)),d(),c("ngIf",((y=u.reminderForm.get("hora"))==null?null:y.invalid)&&((y=u.reminderForm.get("hora"))==null?null:y.touched)),d(4),c("disabled",u.reminderForm.invalid||u.isSubmitting),d(),c("ngIf",u.isSubmitting),d(),c("ngIf",!u.isSubmitting),d(),c("ngIf",u.errorMessage)}}var $=class i{constructor(e,t){this.fb=e;this.calendarService=t;this.reminderForm=this.fb.group({titulo:["",[T.required,T.minLength(1)]],fecha:["",T.required],hora:["",T.required]}),this.setMinDate()}isVisible=!1;preselectedDate="";preselectedTime="";close=new k;reminderCreated=new k;reminderForm;isSubmitting=!1;errorMessage="";ngOnChanges(e){e.preselectedDate?.currentValue&&this.reminderForm.patchValue({fecha:this.preselectedDate}),e.preselectedTime?.currentValue&&this.reminderForm.patchValue({hora:this.preselectedTime}),e.isVisible?.currentValue&&(this.preselectedDate||this.preselectedTime)&&setTimeout(()=>{document.getElementById("titulo")?.focus()},100)}setMinDate(){let t=new Date().toISOString().split("T")[0];this.reminderForm.patchValue({fecha:t})}onClose(){this.resetForm(),this.close.emit()}onSubmit(){if(this.reminderForm.valid&&!this.isSubmitting){this.isSubmitting=!0,this.errorMessage="";let e=this.reminderForm.value,t=this.combineDateAndTime(e.fecha,e.hora);if(new Date(t)<=new Date){this.errorMessage="La fecha y hora del recordatorio debe ser futura.",this.isSubmitting=!1;return}this.calendarService.createReminder(e.titulo,t).subscribe({next:s=>{this.reminderCreated.emit(s),this.onClose(),this.isSubmitting=!1},error:s=>{console.error("Error creating reminder:",s),s.message.includes("autenticado")?this.errorMessage="Sesi\xF3n expirada. Por favor, inicia sesi\xF3n nuevamente.":s.message.includes("fecha")?this.errorMessage="La fecha del recordatorio debe ser futura.":this.errorMessage="Error al crear el recordatorio. Por favor, intenta nuevamente.",this.isSubmitting=!1}})}}combineDateAndTime(e,t){return`${e}T${t}:00`}resetForm(){this.reminderForm.reset(),this.setMinDate(),this.isSubmitting=!1,this.errorMessage=""}static \u0275fac=function(t){return new(t||i)(M(re),M(O))};static \u0275cmp=S({type:i,selectors:[["app-create-reminder-modal"]],inputs:{isVisible:"isVisible",preselectedDate:"preselectedDate",preselectedTime:"preselectedTime"},outputs:{close:"close",reminderCreated:"reminderCreated"},features:[V],decls:1,vars:1,consts:[["class","modal-overlay",3,"click",4,"ngIf"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],[1,"modal-body",3,"ngSubmit","formGroup"],[1,"form-group"],["for","titulo"],["type","text","id","titulo","formControlName","titulo","placeholder","Ingrese el t\xEDtulo del recordatorio",1,"form-control"],["class","error-message",4,"ngIf"],["for","fecha"],["type","date","id","fecha","formControlName","fecha",1,"form-control"],["for","hora"],["type","time","id","hora","formControlName","hora",1,"form-control"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[4,"ngIf"],["class","error-alert",4,"ngIf"],[1,"error-message"],[1,"error-alert"]],template:function(t,n){t&1&&g(0,ye,30,14,"div",0),t&2&&c("ngIf",n.isVisible)},dependencies:[P,E,oe,te,X,Z,ee,ne,ie],styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:8px;width:90%;max-width:500px;max-height:90vh;overflow-y:auto;box-shadow:0 4px 20px #00000026}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px;border-bottom:1px solid #e0e0e0}.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#333;font-size:1.5rem}.close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:2rem;cursor:pointer;color:#666;padding:0;width:30px;height:30px;display:flex;align-items:center;justify-content:center}.close-btn[_ngcontent-%COMP%]:hover{color:#333}.modal-body[_ngcontent-%COMP%]{padding:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:500;color:#333}.form-control[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ddd;border-radius:4px;font-size:14px;transition:border-color .3s}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#007bff;box-shadow:0 0 0 2px #007bff40}.form-control.is-invalid[_ngcontent-%COMP%]{border-color:#dc3545}.error-message[_ngcontent-%COMP%]{color:#dc3545;font-size:12px;margin-top:5px}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:10px;margin-top:20px}.btn[_ngcontent-%COMP%]{padding:10px 20px;border:none;border-radius:4px;cursor:pointer;font-size:14px;transition:background-color .3s}.btn-secondary[_ngcontent-%COMP%]{background-color:#6c757d;color:#fff}.btn-secondary[_ngcontent-%COMP%]:hover{background-color:#5a6268}.btn-primary[_ngcontent-%COMP%]{background-color:#007bff;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#0056b3}.btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.error-alert[_ngcontent-%COMP%]{background-color:#f8d7da;color:#721c24;padding:10px;margin:20px;border-radius:4px;border:1px solid #f5c6cb}"]})};function ke(i,e){if(i&1&&(o(0,"div",20),l(1),a()),i&2){let t=p();d(),b(" ",t.error," ")}}function De(i,e){if(i&1&&(o(0,"div",26),l(1),a()),i&2){let t=e.$implicit;d(),_(t)}}function Me(i,e){if(i&1){let t=x();o(0,"div",34),m("click",function(r){let s=v(t).$implicit,f=p(4);return r.stopPropagation(),h(f.handleEventClick(s))}),l(1),a()}if(i&2){let t=e.$implicit;d(),b(" ",t.title," ")}}function Se(i,e){if(i&1&&(o(0,"div",35),l(1),a()),i&2){let t=p().$implicit;d(),b(" +",t.events.length-3," m\xE1s ")}}function Ee(i,e){if(i&1){let t=x();o(0,"div",29),m("click",function(){let r=v(t).$implicit,s=p(3);return h(s.onDateClick(r))}),o(1,"div",30),l(2),a(),o(3,"div",31),g(4,Me,2,1,"div",32),A(5,"slice"),g(6,Se,2,1,"div",33),a()()}if(i&2){let t=e.$implicit;w("other-month",!t.isCurrentMonth)("today",t.isToday),d(2),_(t.date.getDate()),d(2),c("ngForOf",L(5,7,t.events,0,3)),d(2),c("ngIf",t.events.length>3)}}function Pe(i,e){if(i&1&&(o(0,"div",27),g(1,Ee,7,11,"div",28),a()),i&2){let t=e.$implicit;d(),c("ngForOf",t)}}function Oe(i,e){if(i&1&&(o(0,"div",21)(1,"div",22),g(2,De,2,1,"div",23),a(),o(3,"div",24),g(4,Pe,2,1,"div",25),a()()),i&2){let t=p();d(2),c("ngForOf",t.weekDays),d(2),c("ngForOf",t.calendarDays)}}function Te(i,e){if(i&1&&(o(0,"div",42)(1,"div",43),l(2),a(),o(3,"div",30),l(4),a()()),i&2){let t=e.$implicit,n=p(2);w("today",t.isToday),d(2),_(n.weekDays[t.date.getDay()]),d(2),_(t.date.getDate())}}function Fe(i,e){if(i&1){let t=x();o(0,"div",49),m("click",function(r){let s=v(t).$implicit,f=p(4);return r.stopPropagation(),h(f.handleEventClick(s))}),l(1),a()}if(i&2){let t=e.$implicit;d(),b(" ",t.title," ")}}function Ve(i,e){if(i&1){let t=x();o(0,"div",47),m("click",function(){let r=v(t).$implicit,s=p().$implicit,f=p(2);return h(f.onTimeSlotClick(r,s))}),g(1,Fe,2,1,"div",48),a()}if(i&2){let t=e.$implicit,n=p().$implicit,r=p(2);d(),c("ngForOf",r.getEventsForTimeSlot(t,n))}}function Ie(i,e){if(i&1&&(o(0,"div",44)(1,"div",45),l(2),a(),g(3,Ve,2,1,"div",46),a()),i&2){let t=e.$implicit,n=p(2);d(2),_(t),d(),c("ngForOf",n.calendarDays)}}function Re(i,e){if(i&1&&(o(0,"div",36)(1,"div",37),C(2,"div",38),g(3,Te,5,4,"div",39),a(),o(4,"div",40),g(5,Ie,4,2,"div",41),a()()),i&2){let t=p();d(3),c("ngForOf",t.calendarDays),d(2),c("ngForOf",t.timeSlots)}}function ze(i,e){if(i&1){let t=x();o(0,"div",59),m("click",function(r){let s=v(t).$implicit,f=p(3);return r.stopPropagation(),h(f.handleEventClick(s))}),l(1),a()}if(i&2){let t=e.$implicit;d(),b(" ",t.title," ")}}function $e(i,e){if(i&1){let t=x();o(0,"div",55)(1,"div",56),l(2),a(),o(3,"div",57),m("click",function(){let r=v(t).$implicit,s=p(2);return h(s.onTimeSlotClick(s.calendarDays[0],r))}),g(4,ze,2,1,"div",58),a()()}if(i&2){let t=e.$implicit,n=p(2);d(2),_(t),d(2),c("ngForOf",n.getEventsForTimeSlot(n.calendarDays[0],t))}}function Ne(i,e){if(i&1&&(o(0,"div",50)(1,"div",51)(2,"div",52),l(3),A(4,"date"),a()(),o(5,"div",53),g(6,$e,5,2,"div",54),a()()),i&2){let t=p();d(3),b(" ",L(4,2,t.calendarDays[0]==null?null:t.calendarDays[0].date,"EEEE, d MMMM y","es-ES")," "),d(3),c("ngForOf",t.timeSlots)}}var se=class i{constructor(e,t){this.router=e;this.calendarService=t}currentView="week";showPrintModal=!1;showCreateReminderModal=!1;events=[];error="";selectedDate="";selectedTime="";eventsSubscription;currentDate=new Date;calendarDays=[];weekDays=["DOM","LUN","MAR","MI\xC9","JUE","VIE","S\xC1B"];months=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"];timeSlots=[];weekStart=new Date;weekEnd=new Date;ngOnInit(){this.generateTimeSlots(),this.updateCalendarView(),this.loadEvents(),this.subscribeToEvents()}ngOnDestroy(){this.eventsSubscription&&this.eventsSubscription.unsubscribe()}loadEvents(){this.error="",this.calendarService.getEvents().subscribe({next:e=>{this.events=e,this.calendarService.updateEvents(e),this.updateCalendarEvents(),e.length===0&&console.log("No hay recordatorios para mostrar")},error:e=>{console.error("Error loading events:",e),e.message.includes("autenticado")?this.error="Sesi\xF3n expirada. Redirigiendo al login...":(this.error="Error al cargar los recordatorios. Intenta recargar la p\xE1gina.",this.loadSampleEvents())}})}subscribeToEvents(){this.eventsSubscription=this.calendarService.events$.subscribe(e=>{this.events=e,this.updateCalendarEvents()})}updateCalendarEvents(){this.updateCalendarView(),console.log("Events updated:",this.events.length)}loadSampleEvents(){this.events=[{id:"1",title:"Recordatorio de Ejemplo",start:new Date(Date.now()+24*60*60*1e3).toISOString(),end:new Date(Date.now()+24*60*60*1e3+60*60*1e3).toISOString()}],this.updateCalendarEvents()}generateTimeSlots(){this.timeSlots=[];for(let e=6;e<=22;e++)this.timeSlots.push(`${e.toString().padStart(2,"0")}:00`)}updateCalendarView(){switch(this.currentView){case"month":this.generateMonthView();break;case"week":this.generateWeekView();break;case"day":this.generateDayView();break}}generateMonthView(){let e=this.currentDate.getFullYear(),t=this.currentDate.getMonth(),n=new Date(e,t,1),r=new Date(e,t+1,0),s=new Date(n);s.setDate(s.getDate()-n.getDay()),this.calendarDays=[];let f=new Date(s);for(let y=0;y<6;y++){let u=[];for(let H=0;H<7;H++){let ce=this.getEventsForDate(f);u.push({date:new Date(f),isCurrentMonth:f.getMonth()===t,isToday:this.isToday(f),events:ce}),f.setDate(f.getDate()+1)}this.calendarDays.push(u)}}generateWeekView(){let e=new Date(this.currentDate),t=e.getDay(),n=e.getDate()-t;e.setDate(n),this.weekStart=new Date(e),this.weekEnd=new Date(e),this.weekEnd.setDate(this.weekEnd.getDate()+6),this.calendarDays=[];let r=new Date(e);for(let s=0;s<7;s++){let f=this.getEventsForDate(r);this.calendarDays.push({date:new Date(r),isToday:this.isToday(r),events:f}),r.setDate(r.getDate()+1)}}generateDayView(){let e=this.getEventsForDate(this.currentDate);this.calendarDays=[{date:new Date(this.currentDate),isToday:this.isToday(this.currentDate),events:e}]}getEventsForDate(e){return this.events.filter(t=>new Date(t.start).toDateString()===e.toDateString())}isToday(e){let t=new Date;return e.toDateString()===t.toDateString()}isSameDay(e,t){return e.toDateString()===t.toDateString()}getEventsForTimeSlot(e,t){return e.events?e.events.filter(n=>{let s=new Date(n.start).getHours(),f=parseInt(t.split(":")[0]);return s===f}):[]}onDateClick(e){this.selectedDate=e.date.toISOString().split("T")[0],this.selectedTime="09:00",this.openCreateReminderModal()}onTimeSlotClick(e,t){this.selectedDate=e.date.toISOString().split("T")[0],this.selectedTime=t,this.openCreateReminderModal()}goBack(){this.router.navigate(["/tasks"])}openPrintModal(){this.showPrintModal=!0}closePrintModal(){this.showPrintModal=!1}handlePrint(){console.log("Imprimiendo calendario..."),this.closePrintModal()}handleSavePDF(){console.log("Guardando PDF..."),this.closePrintModal()}openCreateReminderModal(){if(!this.selectedDate){let e=new Date;this.selectedDate=e.toISOString().split("T")[0],this.selectedTime="09:00"}this.showCreateReminderModal=!0}closeCreateReminderModal(){this.showCreateReminderModal=!1,this.selectedDate="",this.selectedTime=""}onReminderCreated(e){this.calendarService.addEvent(e),console.log("Recordatorio creado exitosamente:",e),this.closeCreateReminderModal()}deleteReminder(e){console.log("Intentando eliminar recordatorio con ID:",e),this.calendarService.deleteReminder(e).subscribe({next:()=>{this.calendarService.removeEventFromSubject(e),console.log("Recordatorio eliminado exitosamente"),alert("Recordatorio eliminado exitosamente")},error:t=>{console.error("Error eliminando recordatorio:",t);let n="Error al eliminar el recordatorio.";t.message&&(n+=` ${t.message}`),t.error&&t.error.message&&(n+=` ${t.error.message}`),alert(n)}})}handleEventClick(e){confirm(`\xBFDeseas eliminar este recordatorio?

T\xEDtulo: ${e.title}
Fecha: ${this.formatEventDate(e.start)}

Esta acci\xF3n no se puede deshacer.`)&&e.id&&this.deleteReminder(e.id)}formatEventDate(e){return new Date(e).toLocaleDateString("es-ES",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}changeView(e){this.currentView=e,this.updateCalendarView(),console.log(`Vista cambiada a: ${e}`)}handleDateClick(e){console.log("Click en fecha detectado:",e);let t,n;if(e.dateStr&&e.dateStr.includes("T")){let[r,s]=e.dateStr.split("T");t=r,n=s.substring(0,5)}else t=e.dateStr||new Date().toISOString().split("T")[0],n="09:00";this.selectedDate=t,this.selectedTime=n,this.openCreateReminderModal()}previousPeriod(){switch(this.currentView){case"month":this.currentDate.setMonth(this.currentDate.getMonth()-1);break;case"week":this.currentDate.setDate(this.currentDate.getDate()-7);break;case"day":this.currentDate.setDate(this.currentDate.getDate()-1);break}this.updateCalendarView(),console.log("Navegando al per\xEDodo anterior")}nextPeriod(){switch(this.currentView){case"month":this.currentDate.setMonth(this.currentDate.getMonth()+1);break;case"week":this.currentDate.setDate(this.currentDate.getDate()+7);break;case"day":this.currentDate.setDate(this.currentDate.getDate()+1);break}this.updateCalendarView(),console.log("Navegando al siguiente per\xEDodo")}goToToday(){this.currentDate=new Date,this.updateCalendarView(),console.log("Navegando a hoy")}get calendarEvents(){return this.events}getCurrentTitle(){switch(this.currentView){case"month":return`${this.months[this.currentDate.getMonth()]} ${this.currentDate.getFullYear()}`;case"week":let e=this.weekStart.toLocaleDateString("es-ES",{day:"numeric",month:"short"}),t=this.weekEnd.toLocaleDateString("es-ES",{day:"numeric",month:"short",year:"numeric"});return`${e} - ${t}`;case"day":return this.currentDate.toLocaleDateString("es-ES",{weekday:"long",day:"numeric",month:"long",year:"numeric"});default:return""}}trackByEventId(e,t){return t.id||e.toString()}static \u0275fac=function(t){return new(t||i)(M(R),M(O))};static \u0275cmp=S({type:i,selectors:[["app-calendar"]],decls:37,vars:17,consts:[[1,"main-container"],[1,"content-container"],[1,"action-header"],[1,"nav-btn",3,"click"],[1,"action-buttons"],[1,"action-btn","print-btn",3,"click"],[1,"action-btn","create-btn",3,"click"],[1,"calendar-header"],[1,"nav-controls"],[1,"nav-btn","today-btn",3,"click"],[1,"calendar-title"],[1,"view-selector"],[1,"view-btn",3,"click"],["class","error-message",4,"ngIf"],[1,"calendar-view"],["class","month-view",4,"ngIf"],["class","week-view",4,"ngIf"],["class","day-view",4,"ngIf"],[3,"closeModal","printCalendar","savePDF","isVisible","events","currentDate"],[3,"close","reminderCreated","isVisible","preselectedDate","preselectedTime"],[1,"error-message"],[1,"month-view"],[1,"month-header"],["class","day-header",4,"ngFor","ngForOf"],[1,"month-grid"],["class","week-row",4,"ngFor","ngForOf"],[1,"day-header"],[1,"week-row"],["class","day-cell",3,"other-month","today","click",4,"ngFor","ngForOf"],[1,"day-cell",3,"click"],[1,"day-number"],[1,"day-events"],["class","event-item-month",3,"click",4,"ngFor","ngForOf"],["class","more-events",4,"ngIf"],[1,"event-item-month",3,"click"],[1,"more-events"],[1,"week-view"],[1,"week-header"],[1,"time-column-header"],["class","day-header-week",3,"today",4,"ngFor","ngForOf"],[1,"week-grid"],["class","time-row",4,"ngFor","ngForOf"],[1,"day-header-week"],[1,"day-name"],[1,"time-row"],[1,"time-label"],["class","time-slot",3,"click",4,"ngFor","ngForOf"],[1,"time-slot",3,"click"],["class","event-item-week",3,"click",4,"ngFor","ngForOf"],[1,"event-item-week",3,"click"],[1,"day-view"],[1,"day-header-single"],[1,"day-title"],[1,"day-grid"],["class","time-row-day",4,"ngFor","ngForOf"],[1,"time-row-day"],[1,"time-label-day"],[1,"time-slot-day",3,"click"],["class","event-item-day",3,"click",4,"ngFor","ngForOf"],[1,"event-item-day",3,"click"]],template:function(t,n){t&1&&(C(0,"app-navbar"),o(1,"div",0),C(2,"app-sidebar"),o(3,"div",1)(4,"div",2)(5,"button",3),m("click",function(){return n.goBack()}),l(6," < Back "),a(),o(7,"div",4)(8,"button",5),m("click",function(){return n.openPrintModal()}),l(9," Imprimir Calendario "),a(),o(10,"button",6),m("click",function(){return n.openCreateReminderModal()}),l(11," Crear Recordatorio "),a()()(),o(12,"div",7)(13,"div",8)(14,"button",3),m("click",function(){return n.previousPeriod()}),l(15,"<"),a(),o(16,"button",9),m("click",function(){return n.goToToday()}),l(17,"Today"),a(),o(18,"button",3),m("click",function(){return n.nextPeriod()}),l(19,">"),a()(),o(20,"div",10)(21,"h2"),l(22),a()(),o(23,"div",11)(24,"button",12),m("click",function(){return n.changeView("day")}),l(25,"Day"),a(),o(26,"button",12),m("click",function(){return n.changeView("week")}),l(27,"Week"),a(),o(28,"button",12),m("click",function(){return n.changeView("month")}),l(29,"Month"),a()()(),g(30,ke,2,1,"div",13),o(31,"div",14),g(32,Oe,5,2,"div",15)(33,Re,6,2,"div",16)(34,Ne,7,6,"div",17),a(),o(35,"app-calendar-print-modal",18),m("closeModal",function(){return n.closePrintModal()})("printCalendar",function(){return n.handlePrint()})("savePDF",function(){return n.handleSavePDF()}),a(),o(36,"app-create-reminder-modal",19),m("close",function(){return n.closeCreateReminderModal()})("reminderCreated",function(s){return n.onReminderCreated(s)}),a()()()),t&2&&(d(22),_(n.getCurrentTitle()),d(2),w("active",n.currentView==="day"),d(2),w("active",n.currentView==="week"),d(2),w("active",n.currentView==="month"),d(2),c("ngIf",n.error),d(2),c("ngIf",n.currentView==="month"),d(),c("ngIf",n.currentView==="week"),d(),c("ngIf",n.currentView==="day"),d(),c("isVisible",n.showPrintModal)("events",n.calendarEvents)("currentDate",n.currentDate),d(),c("isVisible",n.showCreateReminderModal)("preselectedDate",n.selectedDate)("preselectedTime",n.selectedTime))},dependencies:[z,$,P,I,E,G,W,K,J],styles:[`:host{font-family:Lato,sans-serif}.content-container{flex:1;display:flex;flex-direction:column;margin-left:180px;height:100%}.action-header{display:flex;justify-content:space-between;align-items:center;padding:12px 20px;background-color:#fff;border-bottom:1px solid #f3f4f6;flex-shrink:0;min-height:60px;position:relative;z-index:10}.action-buttons{display:flex;align-items:center;gap:12px;flex-wrap:wrap}.calendar-container{flex:1;padding:0;height:100%;overflow:hidden;display:flex;flex-direction:column}.calendar-view{flex:1;min-height:0;overflow:auto}.full-calendar{height:100%;width:100%}.calendar-header{display:flex;justify-content:center;align-items:center;padding:12px 20px;border-bottom:1px solid #e5e7eb;position:relative;background-color:#fff;flex-wrap:wrap;gap:16px}.nav-controls{position:absolute;left:20px;display:flex;align-items:center;gap:8px}.calendar-title{flex:1;display:flex;justify-content:center;align-items:center}.calendar-title h2{margin:0;font-size:20px;font-weight:600;color:#374151;text-align:center}.view-selector{position:absolute;right:20px;display:flex;background-color:#f3f4f6;border-radius:8px;padding:4px;gap:2px}.nav-btn,.view-btn,.action-btn{font-size:14px;border-radius:6px;padding:8px 12px;cursor:pointer;transition:all .2s ease}.nav-btn{border:1px solid #d1d5db;background:transparent;color:#374151}.nav-btn:hover{background-color:#f3f4f6;border-color:#9ca3af}.today-btn{font-weight:500;background-color:#fff!important}.view-btn{border:none;background:transparent;font-weight:500;color:#6b7280}.view-btn.active{background-color:#fff;color:#ef4444;box-shadow:0 1px 2px #0000001a}.view-btn:hover:not(.active){color:#374151}.action-btn{background:#8b5cf6;color:#fff;font-weight:500;border:none;font-size:14px;border-radius:6px;padding:8px 12px;cursor:pointer;transition:all .2s ease;display:inline-block;white-space:nowrap}.action-btn:hover{background:#7c3aed;transform:translateY(-1px);box-shadow:0 2px 4px #0000001a}.print-btn{background:#8b5cf6}.create-btn{background:#a855f7}.nav-btn{border:1px solid #d1d5db;background:transparent;color:#374151;font-size:14px;border-radius:6px;padding:8px 12px;cursor:pointer;transition:all .2s ease;display:inline-block;white-space:nowrap}.month-view{background:#fff;border-radius:8px;overflow:hidden;box-shadow:0 1px 3px #0000001a}.month-header{display:grid;grid-template-columns:repeat(7,1fr);background-color:#f8fafc;border-bottom:1px solid #e5e7eb}.day-header{padding:12px 8px;text-align:center;font-weight:600;color:#6b7280;font-size:14px;border-right:1px solid #e5e7eb}.day-header:last-child{border-right:none}.month-grid{display:flex;flex-direction:column}.week-row{display:grid;grid-template-columns:repeat(7,1fr);border-bottom:1px solid #e5e7eb}.week-row:last-child{border-bottom:none}.day-cell{min-height:120px;padding:8px;border-right:1px solid #e5e7eb;cursor:pointer;transition:background-color .2s ease;display:flex;flex-direction:column}.day-cell:last-child{border-right:none}.day-cell:hover{background-color:#f9fafb}.day-cell.other-month{background-color:#f9fafb;color:#9ca3af}.day-cell.today{background-color:#eff6ff;border:2px solid #3b82f6}.day-number{font-weight:600;margin-bottom:4px;color:#374151}.day-events{flex:1;display:flex;flex-direction:column;gap:2px}.event-item-month{padding:2px 6px;background-color:#3b82f6;color:#fff;border-radius:4px;font-size:12px;cursor:pointer;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;transition:background-color .2s ease}.event-item-month:hover{background-color:#2563eb}.more-events{font-size:11px;color:#6b7280;font-style:italic;margin-top:2px}.week-view{background:#fff;border-radius:8px;overflow:hidden;box-shadow:0 1px 3px #0000001a}.week-header{display:grid;grid-template-columns:80px repeat(7,1fr);background-color:#f8fafc;border-bottom:1px solid #e5e7eb}.time-column-header{padding:12px 8px;border-right:1px solid #e5e7eb}.day-header-week{padding:12px 8px;text-align:center;border-right:1px solid #e5e7eb;cursor:pointer;transition:background-color .2s ease}.day-header-week:hover{background-color:#f1f5f9}.day-header-week.today{background-color:#eff6ff;color:#3b82f6;font-weight:600}.day-header-week:last-child{border-right:none}.day-name{font-weight:600;font-size:12px;color:#6b7280;margin-bottom:2px}.day-number{font-size:18px;color:#374151}.week-grid{max-height:calc(100vh - 300px);overflow-y:auto}.time-row{display:grid;grid-template-columns:80px repeat(7,1fr);min-height:60px;border-bottom:1px solid #f3f4f6}.time-label{padding:8px;text-align:center;font-size:12px;color:#6b7280;border-right:1px solid #e5e7eb;background-color:#f9fafb;display:flex;align-items:flex-start;justify-content:center}.time-slot{border-right:1px solid #e5e7eb;cursor:pointer;position:relative;padding:4px;transition:background-color .2s ease}.time-slot:hover{background-color:#f9fafb}.time-slot:last-child{border-right:none}.event-item-week{background-color:#3b82f6;color:#fff;padding:4px 8px;border-radius:4px;font-size:12px;margin-bottom:2px;cursor:pointer;transition:background-color .2s ease;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.event-item-week:hover{background-color:#2563eb}.day-view{background:#fff;border-radius:8px;overflow:hidden;box-shadow:0 1px 3px #0000001a}.day-header-single{padding:20px;background-color:#f8fafc;border-bottom:1px solid #e5e7eb;text-align:center}.day-title{font-size:18px;font-weight:600;color:#374151;text-transform:capitalize}.day-grid{max-height:calc(100vh - 300px);overflow-y:auto}.time-row-day{display:grid;grid-template-columns:100px 1fr;min-height:60px;border-bottom:1px solid #f3f4f6}.time-label-day{padding:8px 16px;text-align:center;font-size:14px;color:#6b7280;border-right:1px solid #e5e7eb;background-color:#f9fafb;display:flex;align-items:flex-start;justify-content:center}.time-slot-day{cursor:pointer;position:relative;padding:8px;transition:background-color .2s ease}.time-slot-day:hover{background-color:#f9fafb}.event-item-day{background-color:#3b82f6;color:#fff;padding:8px 12px;border-radius:6px;font-size:14px;margin-bottom:4px;cursor:pointer;transition:background-color .2s ease}.event-item-day:hover{background-color:#2563eb}@media (max-width: 768px){.calendar-header{flex-direction:column;gap:12px;align-items:stretch;position:static}.nav-controls{position:static;justify-content:center;order:1}.calendar-title{position:static;order:2}.view-selector{position:static;width:100%;justify-content:center;order:3}.day-cell{min-height:80px;font-size:12px}.event-item-month{font-size:10px;padding:1px 4px}.week-header{grid-template-columns:60px repeat(7,1fr)}.time-row{grid-template-columns:60px repeat(7,1fr);min-height:40px}.time-label{font-size:10px;padding:4px}.day-name{font-size:10px}.day-number{font-size:14px}.time-row-day{grid-template-columns:80px 1fr;min-height:40px}.time-label-day{font-size:12px;padding:4px 8px}}@media (max-width: 480px){.content-container{margin-left:0}.calendar-header{padding:12px}.calendar-title h2{font-size:16px;text-align:center}.day-cell{min-height:60px;padding:4px}.week-header,.time-row{grid-template-columns:50px repeat(7,1fr)}.time-label{font-size:9px;padding:2px}.day-header-week{padding:8px 4px}.day-name{font-size:9px}.day-number{font-size:12px}}
`],encapsulation:2})};export{se as CalendarComponent};
