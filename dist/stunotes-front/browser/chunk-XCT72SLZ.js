import{a as J}from"./chunk-EKFKDTWY.js";import{a as j}from"./chunk-56URM5U7.js";import{a as H,b as V}from"./chunk-NFAJQK7M.js";import{a as z}from"./chunk-G7KYO6TL.js";import{a as T}from"./chunk-Y4AKRUAJ.js";import{a as $}from"./chunk-EV5VSRPK.js";import{f as B}from"./chunk-AVDHOTCV.js";import{Da as m,Ib as N,Jb as A,K as S,Kb as R,Lb as M,O,Oa as d,Pa as i,Qa as n,Ra as U,Sb as D,Tb as I,U as u,Ua as h,V as v,Va as _,Wa as f,ab as b,cb as r,db as y,eb as x,mb as k,nb as E,ob as F,pa as c,ta as C,za as P}from"./chunk-LRXCIMQ7.js";import"./chunk-EQDQRRRY.js";var w=class o{constructor(e){this.http=e}apiUrl=`${$.apiUrl}/notes`;getNotes(e=0,t=15,s,a,p,g){let l=new D().set("page",e.toString()).set("size",t.toString());if(s&&(l=l.set("collectionName",s.toString())),a&&a.trim()&&(l=l.set("collectionName",a.trim())),p){let L=g?`${p},${g}`:p;l=l.set("sort",L)}return this.http.get(this.apiUrl,{params:l})}searchNotesByCollectionName(e,t=0,s=15,a,p){let g=new D().set("page",t.toString()).set("size",s.toString()).set("collectionName",e);if(a){let l=p?`${a},${p}`:a;g=g.set("sort",l)}return this.http.get(this.apiUrl,{params:g})}getAllNotes(){return this.http.get(this.apiUrl)}getNoteById(e){return this.http.get(`${this.apiUrl}/${e}`)}createNote(e){return this.http.post(this.apiUrl,e)}updateNote(e,t){return this.http.put(`${this.apiUrl}/${e}`,t)}deleteNote(e){return this.http.delete(`${this.apiUrl}/${e}`)}static \u0275fac=function(t){return new(t||o)(O(I))};static \u0275prov=S({token:o,factory:o.\u0275fac,providedIn:"root"})};function q(o,e){if(o&1){let t=h();i(0,"div",19),_("click",function(){let a=u(t).$implicit,p=f(2);return v(p.irADetalleTarea(a.id))}),i(1,"div",20)(2,"h3",21),r(3),n(),i(4,"p",22),r(5),k(6,"date"),n()(),U(7,"i",23),n()}if(o&2){let t=e.$implicit;c(3),y(t.title),c(2),x("Creado: ",E(6,2,t.createdAt,"dd/MM/yyyy"))}}function Q(o,e){if(o&1&&(i(0,"div"),m(1,q,8,5,"div",18),n()),o&2){let t=f();c(),d("ngForOf",t.nextTasks)}}function G(o,e){o&1&&(i(0,"p",24),r(1,"No tienes tareas creadas."),n())}function W(o,e){if(o&1){let t=h();i(0,"div",27),_("click",function(){let a=u(t).$implicit,p=f(2);return v(p.irADetalleRepositorio(a.id))}),i(1,"h3",21),r(2),n(),i(3,"p",22),r(4),n()()}if(o&2){let t=e.$implicit;c(2),x("Repositorio ",t.id),c(2),x("Documentos: ",t.documents.length||0)}}function X(o,e){if(o&1&&(i(0,"div",25),m(1,W,5,2,"div",26),n()),o&2){let t=f();c(),d("ngForOf",t.repositorios)}}function ee(o,e){o&1&&(i(0,"p",24),r(1,"No tienes repositorios creados."),n())}function te(o,e){if(o&1){let t=h();i(0,"div",33),_("click",function(){let a=u(t).$implicit,p=f(2);return v(p.irADetalleDocumento(a.id))}),i(1,"h3",21),r(2),n(),i(3,"p",22),r(4),n()()}if(o&2){let t=e.$implicit;c(2),y(t.title),c(2),x("Versi\xF3n: ",t.version)}}function oe(o,e){if(o&1&&(i(0,"div",28)(1,"div",29),m(2,te,5,2,"div",30),n(),i(3,"div",31),U(4,"i",32),n()()),o&2){let t=f();c(2),d("ngForOf",t.documentos)}}function ne(o,e){o&1&&(i(0,"p",24),r(1,"No tienes documentos creados."),n())}function ie(o,e){if(o&1){let t=h();i(0,"div",19),_("click",function(){let a=u(t).$implicit,p=f(2);return v(p.irADetalleNote(a.id))}),i(1,"div",20)(2,"h3",21),r(3),n(),i(4,"p",22),r(5),k(6,"date"),n()(),U(7,"i",23),n()}if(o&2){let t=e.$implicit;c(3),y(t.title),c(2),x("Creado: ",E(6,2,t.createdAt,"dd/MM/yyyy"))}}function re(o,e){if(o&1&&(i(0,"div"),m(1,ie,8,5,"div",18),n()),o&2){let t=f();c(),d("ngForOf",t.notes)}}function ae(o,e){o&1&&(i(0,"p",24),r(1,"No tienes notas creadas."),n())}var Y=class o{constructor(e,t,s,a,p){this.taskService=e;this.documentService=t;this.repositoryService=s;this.router=a;this.noteService=p}user=null;saludo="";nextTasks=[];documentos=[];repositorios=[];notes=[];ngOnInit(){let e=localStorage.getItem("user");e&&(this.user=JSON.parse(e)),this.generarSaludo(),this.obtenerTareasProximas(),this.obtenerDocumentos(),this.obtenerRepositorios(),this.getNotes()}generarSaludo(){let e=new Date().getHours();e<12?this.saludo="Buenos d\xEDas":e<18?this.saludo="Buenas tardes":this.saludo="Buenas noches"}obtenerTareasProximas(){this.taskService.getTasks(0,5,void 0,void 0,"createdAt","asc").subscribe({next:e=>{this.nextTasks=e.content.filter(t=>t.createdAt).slice(0,5)},error:e=>{console.error("Error al cargar tareas pr\xF3ximas:",e)}})}obtenerRepositorios(){let e=JSON.parse(localStorage.getItem("user")||"{}");e?.id&&this.repositoryService.getRepositoriesByUsuarioId(e.id).subscribe({next:t=>this.repositorios=t,error:t=>console.error("Error al obtener repositorios:",t)})}irADetalleTarea(e){this.router.navigate(["/tasks",e,"edit"])}crearNuevaTarea(){this.router.navigate(["/tasks/createTask"])}obtenerDocumentos(){let e=JSON.parse(localStorage.getItem("user")||"{}");e&&e.id&&this.documentService.getDocumentsByUserId(e.id).subscribe({next:t=>this.documentos=t.slice(0,5),error:t=>console.error("Error al obtener documentos:",t)})}irADetalleDocumento(e){this.router.navigate([`/document/${e}/comments`])}crearRepositorio(){this.router.navigate(["/repositorios/list"])}irADetalleRepositorio(e){this.router.navigate([`/repositories/${e}`])}newNote(){this.router.navigate(["/notes/createNote"])}irADetalleNote(e){this.router.navigate(["/notes",e,"edit"])}getNotes(){this.noteService.getNotes(0,5,void 0,void 0,"createdAt","asc").subscribe({next:e=>{this.notes=e.content.filter(t=>t.createdAt).slice(0,5)},error:e=>{console.error("Error al cargar las notas:",e)}})}static \u0275fac=function(t){return new(t||o)(C(J),C(z),C(j),C(B),C(w))};static \u0275cmp=P({type:o,selectors:[["app-home"]],decls:51,vars:11,consts:[["noTasks",""],["noRepos",""],["noDocs",""],["noNotes",""],[1,"dashboard-wrapper"],[1,"welcome-section","animate-fade"],[1,"animate-drop"],[1,"username"],[1,"subtitle","animate-rise"],[1,"task-section"],[1,"task-section-header"],[1,"create-task-btn",3,"click"],[1,"plus-icon"],[4,"ngIf","ngIfElse"],[1,"repository-section"],[1,"repository-section-header"],["class","repository-list",4,"ngIf","ngIfElse"],["class","document-carousel-wrapper",4,"ngIf","ngIfElse"],["class","task-card",3,"click",4,"ngFor","ngForOf"],[1,"task-card",3,"click"],[1,"task-info"],[1,"task-title"],[1,"task-date"],[1,"fas","fa-chevron-right","arrow-icon"],[1,"no-task-msg"],[1,"repository-list"],["class","repository-card",3,"click",4,"ngFor","ngForOf"],[1,"repository-card",3,"click"],[1,"document-carousel-wrapper"],[1,"document-carousel"],["class","document-card",3,"click",4,"ngFor","ngForOf"],[1,"carousel-arrow","right"],[1,"fas","fa-chevron-right"],[1,"document-card",3,"click"]],template:function(t,s){if(t&1){let a=h();U(0,"app-navbar")(1,"app-sidebar"),i(2,"div",4)(3,"div",5)(4,"h1",6),r(5),i(6,"span",7),r(7),n()(),i(8,"p",8),r(9),n()(),i(10,"section",9)(11,"div",10)(12,"h2"),r(13,"\u{1F4CC} Tareas por cumplir"),n(),i(14,"button",11),_("click",function(){return u(a),v(s.crearNuevaTarea())}),i(15,"span",12),r(16,"+"),n(),r(17," Nueva tarea "),n()(),m(18,Q,2,1,"div",13)(19,G,2,0,"ng-template",null,0,F),n(),i(21,"section",14)(22,"div",15)(23,"h2"),r(24,"\u{1F4C1} Repositorios"),n(),i(25,"button",11),_("click",function(){return u(a),v(s.crearRepositorio())}),i(26,"span",12),r(27,"+"),n(),r(28," Ver repositorios "),n()(),m(29,X,2,1,"div",16)(30,ee,2,0,"ng-template",null,1,F),n(),i(32,"section",9)(33,"div",10)(34,"h2"),r(35,"\u{1F4C4} Documentos creados"),n()(),m(36,oe,5,1,"div",17)(37,ne,2,0,"ng-template",null,2,F),n(),i(39,"section",9)(40,"div",10)(41,"h2"),r(42,"\u{1F4CC} Mis Notas"),n(),i(43,"button",11),_("click",function(){return u(a),v(s.newNote())}),i(44,"span",12),r(45,"+"),n(),r(46," Nueva Nota "),n()(),m(47,re,2,1,"div",13)(48,ae,2,0,"ng-template",null,3,F),n()(),U(50,"app-footer")}if(t&2){let a=b(20),p=b(31),g=b(38),l=b(49);c(5),x("",s.saludo,", "),c(2),y(s.user.name),c(2),x(" ",s.user.role==="TEACHER"?"Inspira y transforma vidas a trav\xE9s de la educaci\xF3n.":"Organiza tus actividades y mejora tu aprendizaje d\xEDa a d\xEDa."," "),c(9),d("ngIf",s.nextTasks.length>0)("ngIfElse",a),c(11),d("ngIf",s.repositorios.length>0)("ngIfElse",p),c(7),d("ngIf",s.documentos.length>0)("ngIfElse",g),c(11),d("ngIf",s.notes.length>0)("ngIfElse",l)}},dependencies:[M,N,A,R,H,T,V],styles:['@font-face{font-family:Poppins;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiEyp8kv8JHgFVrJJbecmNE.woff2) format("woff2");unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+20F0,U+25CC,U+A830-A839,U+A8E0-A8FF,U+11B00-11B09}@font-face{font-family:Poppins;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiEyp8kv8JHgFVrJJnecmNE.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Poppins;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiEyp8kv8JHgFVrJJfecg.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Poppins;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiByp8kv8JHgFVrLEj6Z11lFc-K.woff2) format("woff2");unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+20F0,U+25CC,U+A830-A839,U+A8E0-A8FF,U+11B00-11B09}@font-face{font-family:Poppins;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiByp8kv8JHgFVrLEj6Z1JlFc-K.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Poppins;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiByp8kv8JHgFVrLEj6Z1xlFQ.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Poppins;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiByp8kv8JHgFVrLCz7Z11lFc-K.woff2) format("woff2");unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+20F0,U+25CC,U+A830-A839,U+A8E0-A8FF,U+11B00-11B09}@font-face{font-family:Poppins;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiByp8kv8JHgFVrLCz7Z1JlFc-K.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Poppins;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiByp8kv8JHgFVrLCz7Z1xlFQ.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}[_nghost-%COMP%]{font-family:Poppins,sans-serif;background:#fdfdfd;display:block}.dashboard-wrapper[_ngcontent-%COMP%]{max-width:1000px;margin:40px auto;padding:0 20px}.welcome-section[_ngcontent-%COMP%]{text-align:center;margin-bottom:40px}.welcome-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:48px;font-weight:700;color:#1f2937;margin-bottom:12px}.username[_ngcontent-%COMP%]{color:#8b5cf6}.subtitle[_ngcontent-%COMP%]{color:#6b7280;font-size:18px}.task-section[_ngcontent-%COMP%]{background:linear-gradient(to right,#ede9fe,#f3f0ff);padding:30px;border-radius:20px;box-shadow:0 8px 24px #0000000a;margin-bottom:40px}.task-section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.task-section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:22px;color:#7c3aed;margin:0}.task-card[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #e5e7eb;border-radius:12px;padding:16px 20px;display:flex;justify-content:space-between;align-items:center;transition:all .2s ease-in-out;margin-bottom:12px;cursor:pointer}.task-card[_ngcontent-%COMP%]:hover{background-color:#f3f4f6;transform:translateY(-2px)}.task-title[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#111827;margin:0}.task-date[_ngcontent-%COMP%]{font-size:14px;color:#6b7280}.arrow-icon[_ngcontent-%COMP%]{color:#9ca3af;font-size:14px;margin-left:10px}.no-task-msg[_ngcontent-%COMP%]{color:#6b7280;font-style:italic;padding:12px;text-align:center}.create-task-btn[_ngcontent-%COMP%]{background-color:#7c3aed;color:#fff;border:none;padding:10px 16px;border-radius:8px;font-size:14px;font-weight:500;cursor:pointer;display:flex;align-items:center;gap:6px;transition:background .3s ease}.create-task-btn[_ngcontent-%COMP%]:hover{background-color:#6d28d9}.plus-icon[_ngcontent-%COMP%]{font-size:18px;font-weight:700;line-height:1}.document-carousel-wrapper[_ngcontent-%COMP%]{position:relative;overflow-x:auto;padding-bottom:10px}.document-carousel[_ngcontent-%COMP%]{display:flex;gap:16px;overflow-x:auto;scroll-snap-type:x mandatory;padding-bottom:8px}.document-card[_ngcontent-%COMP%]{min-width:240px;flex:0 0 auto;background-color:#fff;border:1px solid #e5e7eb;border-radius:12px;padding:16px;scroll-snap-align:start;cursor:pointer;transition:transform .3s ease,background-color .3s ease}.document-card[_ngcontent-%COMP%]:hover{background-color:#f3f4f6;transform:translateY(-2px)}.carousel-arrow.right[_ngcontent-%COMP%]{position:absolute;top:50%;right:0;transform:translateY(-50%);background:linear-gradient(to left,#f9fafb 70%,transparent);padding:10px;pointer-events:none}.carousel-arrow[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#9ca3af;font-size:20px}.repository-section[_ngcontent-%COMP%]{background:linear-gradient(to right,#ede9fe,#f3f0ff);padding:30px;border-radius:20px;box-shadow:0 8px 24px #0000000a;margin-bottom:40px}.repository-section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.repository-section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:22px;color:#7c3aed;margin:0}.repository-list[_ngcontent-%COMP%]{display:flex;gap:16px;overflow-x:auto;scroll-snap-type:x mandatory;padding-bottom:8px}.repository-card[_ngcontent-%COMP%]{min-width:240px;flex:0 0 auto;background-color:#fff;border:1px solid #e5e7eb;border-radius:12px;padding:16px;scroll-snap-align:start;cursor:pointer;transition:transform .3s ease,background-color .3s ease}.repository-card[_ngcontent-%COMP%]:hover{background-color:#f3f4f6;transform:translateY(-2px)}@keyframes _ngcontent-%COMP%_drop{0%{opacity:0;transform:translateY(-40px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_rise{0%{opacity:0;transform:translateY(40px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_fade{0%{opacity:0}to{opacity:1}}.animate-drop[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_drop .8s ease-out forwards}.animate-rise[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_rise .8s ease-out forwards;animation-delay:.2s}.animate-fade[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fade .5s ease-out forwards}']})};export{Y as HomeComponent};
