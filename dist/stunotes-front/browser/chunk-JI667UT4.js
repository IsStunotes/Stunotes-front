import{a as B}from"./chunk-EKFKDTWY.js";import{a as I}from"./chunk-56URM5U7.js";import{a as A,b as M}from"./chunk-NFAJQK7M.js";import{a as T}from"./chunk-G7KYO6TL.js";import{a as S}from"./chunk-Y4AKRUAJ.js";import"./chunk-EV5VSRPK.js";import{f as P}from"./chunk-AVDHOTCV.js";import{Da as l,Ib as w,Jb as D,Kb as E,Lb as O,Oa as m,Pa as o,Qa as n,Ra as U,U as g,Ua as _,V as u,Va as x,Wa as d,ab as v,cb as r,db as F,eb as f,mb as b,nb as k,ob as y,pa as a,ta as C,za as h}from"./chunk-LRXCIMQ7.js";import"./chunk-EQDQRRRY.js";function V(i,e){if(i&1){let t=_();o(0,"div",18),x("click",function(){let c=g(t).$implicit,p=d(2);return u(p.irADetalleTarea(c.id))}),o(1,"div",19)(2,"h3",20),r(3),n(),o(4,"p",21),r(5),b(6,"date"),n()(),U(7,"i",22),n()}if(i&2){let t=e.$implicit;a(3),F(t.title),a(2),f("Creado: ",k(6,2,t.createdAt,"dd/MM/yyyy"))}}function J(i,e){if(i&1&&(o(0,"div"),l(1,V,8,5,"div",17),n()),i&2){let t=d();a(),m("ngForOf",t.nextTasks)}}function N(i,e){i&1&&(o(0,"p",23),r(1,"No tienes tareas creadas."),n())}function z(i,e){if(i&1){let t=_();o(0,"div",26),x("click",function(){let c=g(t).$implicit,p=d(2);return u(p.irADetalleRepositorio(c.id))}),o(1,"h3",20),r(2),n(),o(3,"p",21),r(4),n()()}if(i&2){let t=e.$implicit;a(2),f("Repositorio ",t.id),a(2),f("Documentos: ",t.documents.length||0)}}function j(i,e){if(i&1&&(o(0,"div",24),l(1,z,5,2,"div",25),n()),i&2){let t=d();a(),m("ngForOf",t.repositorios)}}function Y(i,e){i&1&&(o(0,"p",23),r(1,"No tienes repositorios creados."),n())}function $(i,e){if(i&1){let t=_();o(0,"div",32),x("click",function(){let c=g(t).$implicit,p=d(2);return u(p.irADetalleDocumento(c.id))}),o(1,"h3",20),r(2),n(),o(3,"p",21),r(4),n()()}if(i&2){let t=e.$implicit;a(2),F(t.title),a(2),f("Versi\xF3n: ",t.version)}}function L(i,e){if(i&1&&(o(0,"div",27)(1,"div",28),l(2,$,5,2,"div",29),n(),o(3,"div",30),U(4,"i",31),n()()),i&2){let t=d();a(2),m("ngForOf",t.documentos)}}function Z(i,e){i&1&&(o(0,"p",23),r(1,"No tienes documentos creados."),n())}var R=class i{constructor(e,t,s,c){this.taskService=e;this.documentService=t;this.repositoryService=s;this.router=c}user=null;saludo="";nextTasks=[];documentos=[];repositorios=[];ngOnInit(){let e=localStorage.getItem("user");e&&(this.user=JSON.parse(e)),this.generarSaludo(),this.obtenerTareasProximas(),this.obtenerDocumentos(),this.obtenerRepositorios()}generarSaludo(){let e=new Date().getHours();e<12?this.saludo="Buenos d\xEDas":e<18?this.saludo="Buenas tardes":this.saludo="Buenas noches"}obtenerTareasProximas(){this.taskService.getTasks(0,5,void 0,void 0,"createdAt","asc").subscribe({next:e=>{this.nextTasks=e.content.filter(t=>t.createdAt).slice(0,5)},error:e=>{console.error("Error al cargar tareas pr\xF3ximas:",e)}})}obtenerRepositorios(){let e=JSON.parse(localStorage.getItem("user")||"{}");e?.id&&this.repositoryService.getRepositoriesByUsuarioId(e.id).subscribe({next:t=>this.repositorios=t,error:t=>console.error("Error al obtener repositorios:",t)})}irADetalleTarea(e){this.router.navigate(["/tasks",e,"edit"])}crearNuevaTarea(){this.router.navigate(["/tasks/createTask"])}obtenerDocumentos(){let e=JSON.parse(localStorage.getItem("user")||"{}");e&&e.id&&this.documentService.getDocumentsByUserId(e.id).subscribe({next:t=>this.documentos=t.slice(0,5),error:t=>console.error("Error al obtener documentos:",t)})}irADetalleDocumento(e){this.router.navigate([`/document/${e}/comments`])}crearRepositorio(){this.router.navigate(["/repositorios/list"])}irADetalleRepositorio(e){this.router.navigate([`/repositories/${e}`])}static \u0275fac=function(t){return new(t||i)(C(B),C(T),C(I),C(P))};static \u0275cmp=h({type:i,selectors:[["app-home"]],decls:40,vars:9,consts:[["noTasks",""],["noRepos",""],["noDocs",""],[1,"dashboard-wrapper"],[1,"welcome-section","animate-fade"],[1,"animate-drop"],[1,"username"],[1,"subtitle","animate-rise"],[1,"task-section"],[1,"task-section-header"],[1,"create-task-btn",3,"click"],[1,"plus-icon"],[4,"ngIf","ngIfElse"],[1,"repository-section"],[1,"repository-section-header"],["class","repository-list",4,"ngIf","ngIfElse"],["class","document-carousel-wrapper",4,"ngIf","ngIfElse"],["class","task-card",3,"click",4,"ngFor","ngForOf"],[1,"task-card",3,"click"],[1,"task-info"],[1,"task-title"],[1,"task-date"],[1,"fas","fa-chevron-right","arrow-icon"],[1,"no-task-msg"],[1,"repository-list"],["class","repository-card",3,"click",4,"ngFor","ngForOf"],[1,"repository-card",3,"click"],[1,"document-carousel-wrapper"],[1,"document-carousel"],["class","document-card",3,"click",4,"ngFor","ngForOf"],[1,"carousel-arrow","right"],[1,"fas","fa-chevron-right"],[1,"document-card",3,"click"]],template:function(t,s){if(t&1){let c=_();U(0,"app-navbar")(1,"app-sidebar"),o(2,"div",3)(3,"div",4)(4,"h1",5),r(5),o(6,"span",6),r(7),n()(),o(8,"p",7),r(9),n()(),o(10,"section",8)(11,"div",9)(12,"h2"),r(13,"\u{1F4CC} Tareas por cumplir"),n(),o(14,"button",10),x("click",function(){return g(c),u(s.crearNuevaTarea())}),o(15,"span",11),r(16,"+"),n(),r(17," Nueva tarea "),n()(),l(18,J,2,1,"div",12)(19,N,2,0,"ng-template",null,0,y),n(),o(21,"section",13)(22,"div",14)(23,"h2"),r(24,"\u{1F4C1} Repositorios"),n(),o(25,"button",10),x("click",function(){return g(c),u(s.crearRepositorio())}),o(26,"span",11),r(27,"+"),n(),r(28," Ver repositorios "),n()(),l(29,j,2,1,"div",15)(30,Y,2,0,"ng-template",null,1,y),n(),o(32,"section",8)(33,"div",9)(34,"h2"),r(35,"\u{1F4C4} Documentos creados"),n()(),l(36,L,5,1,"div",16)(37,Z,2,0,"ng-template",null,2,y),n()(),U(39,"app-footer")}if(t&2){let c=v(20),p=v(31),H=v(38);a(5),f("",s.saludo,", "),a(2),F(s.user.name),a(2),f(" ",s.user.role==="TEACHER"?"Inspira y transforma vidas a trav\xE9s de la educaci\xF3n.":"Organiza tus actividades y mejora tu aprendizaje d\xEDa a d\xEDa."," "),a(9),m("ngIf",s.nextTasks.length>0)("ngIfElse",c),a(11),m("ngIf",s.repositorios.length>0)("ngIfElse",p),a(7),m("ngIf",s.documentos.length>0)("ngIfElse",H)}},dependencies:[O,w,D,E,A,S,M],styles:['@font-face{font-family:Poppins;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiEyp8kv8JHgFVrJJbecmNE.woff2) format("woff2");unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+20F0,U+25CC,U+A830-A839,U+A8E0-A8FF,U+11B00-11B09}@font-face{font-family:Poppins;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiEyp8kv8JHgFVrJJnecmNE.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Poppins;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiEyp8kv8JHgFVrJJfecg.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Poppins;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiByp8kv8JHgFVrLEj6Z11lFc-K.woff2) format("woff2");unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+20F0,U+25CC,U+A830-A839,U+A8E0-A8FF,U+11B00-11B09}@font-face{font-family:Poppins;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiByp8kv8JHgFVrLEj6Z1JlFc-K.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Poppins;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiByp8kv8JHgFVrLEj6Z1xlFQ.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Poppins;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiByp8kv8JHgFVrLCz7Z11lFc-K.woff2) format("woff2");unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+20F0,U+25CC,U+A830-A839,U+A8E0-A8FF,U+11B00-11B09}@font-face{font-family:Poppins;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiByp8kv8JHgFVrLCz7Z1JlFc-K.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Poppins;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiByp8kv8JHgFVrLCz7Z1xlFQ.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}[_nghost-%COMP%]{font-family:Poppins,sans-serif;background:#fdfdfd;display:block}.dashboard-wrapper[_ngcontent-%COMP%]{max-width:1000px;margin:40px auto;padding:0 20px}.welcome-section[_ngcontent-%COMP%]{text-align:center;margin-bottom:40px}.welcome-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:48px;font-weight:700;color:#1f2937;margin-bottom:12px}.username[_ngcontent-%COMP%]{color:#8b5cf6}.subtitle[_ngcontent-%COMP%]{color:#6b7280;font-size:18px}.task-section[_ngcontent-%COMP%]{background:linear-gradient(to right,#ede9fe,#f3f0ff);padding:30px;border-radius:20px;box-shadow:0 8px 24px #0000000a;margin-bottom:40px}.task-section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.task-section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:22px;color:#7c3aed;margin:0}.task-card[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #e5e7eb;border-radius:12px;padding:16px 20px;display:flex;justify-content:space-between;align-items:center;transition:all .2s ease-in-out;margin-bottom:12px;cursor:pointer}.task-card[_ngcontent-%COMP%]:hover{background-color:#f3f4f6;transform:translateY(-2px)}.task-title[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#111827;margin:0}.task-date[_ngcontent-%COMP%]{font-size:14px;color:#6b7280}.arrow-icon[_ngcontent-%COMP%]{color:#9ca3af;font-size:14px;margin-left:10px}.no-task-msg[_ngcontent-%COMP%]{color:#6b7280;font-style:italic;padding:12px;text-align:center}.create-task-btn[_ngcontent-%COMP%]{background-color:#7c3aed;color:#fff;border:none;padding:10px 16px;border-radius:8px;font-size:14px;font-weight:500;cursor:pointer;display:flex;align-items:center;gap:6px;transition:background .3s ease}.create-task-btn[_ngcontent-%COMP%]:hover{background-color:#6d28d9}.plus-icon[_ngcontent-%COMP%]{font-size:18px;font-weight:700;line-height:1}.document-carousel-wrapper[_ngcontent-%COMP%]{position:relative;overflow-x:auto;padding-bottom:10px}.document-carousel[_ngcontent-%COMP%]{display:flex;gap:16px;overflow-x:auto;scroll-snap-type:x mandatory;padding-bottom:8px}.document-card[_ngcontent-%COMP%]{min-width:240px;flex:0 0 auto;background-color:#fff;border:1px solid #e5e7eb;border-radius:12px;padding:16px;scroll-snap-align:start;cursor:pointer;transition:transform .3s ease,background-color .3s ease}.document-card[_ngcontent-%COMP%]:hover{background-color:#f3f4f6;transform:translateY(-2px)}.carousel-arrow.right[_ngcontent-%COMP%]{position:absolute;top:50%;right:0;transform:translateY(-50%);background:linear-gradient(to left,#f9fafb 70%,transparent);padding:10px;pointer-events:none}.carousel-arrow[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#9ca3af;font-size:20px}.repository-section[_ngcontent-%COMP%]{background:linear-gradient(to right,#ede9fe,#f3f0ff);padding:30px;border-radius:20px;box-shadow:0 8px 24px #0000000a;margin-bottom:40px}.repository-section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.repository-section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:22px;color:#7c3aed;margin:0}.repository-list[_ngcontent-%COMP%]{display:flex;gap:16px;overflow-x:auto;scroll-snap-type:x mandatory;padding-bottom:8px}.repository-card[_ngcontent-%COMP%]{min-width:240px;flex:0 0 auto;background-color:#fff;border:1px solid #e5e7eb;border-radius:12px;padding:16px;scroll-snap-align:start;cursor:pointer;transition:transform .3s ease,background-color .3s ease}.repository-card[_ngcontent-%COMP%]:hover{background-color:#f3f4f6;transform:translateY(-2px)}@keyframes _ngcontent-%COMP%_drop{0%{opacity:0;transform:translateY(-40px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_rise{0%{opacity:0;transform:translateY(40px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_fade{0%{opacity:0}to{opacity:1}}.animate-drop[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_drop .8s ease-out forwards}.animate-rise[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_rise .8s ease-out forwards;animation-delay:.2s}.animate-fade[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fade .5s ease-out forwards}']})};export{R as HomeComponent};
