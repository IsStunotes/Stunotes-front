import{a as P}from"./chunk-QD477NDY.js";import"./chunk-EJPFUGRK.js";import{a as h,b as o,c as x,d as v,g as C,j as _,k as S,q as F,s as w}from"./chunk-RI57JWSE.js";import{f as b}from"./chunk-2G7CLEZI.js";import{Nb as f,Oa as c,Pa as t,Qa as e,Ra as a,Va as p,cb as r,eb as g,pa as m,ta as l,za as u}from"./chunk-PS3QJLTI.js";import"./chunk-EQDQRRRY.js";var N=class d{constructor(s,i,n){this.fb=s;this.router=i;this.authService=n;this.registerForm=this.fb.group({firstName:["",o.required],lastName:["",o.required],email:["",[o.required,o.email]],password:["",o.required],confirmPassword:["",o.required]})}registerForm;submitting=!1;onSubmit(){if(this.registerForm.valid){if(this.registerForm.value.password!==this.registerForm.value.confirmPassword){alert("Las contrase\xF1as no coinciden");return}let s={email:this.registerForm.value.email,password:this.registerForm.value.password,name:this.registerForm.value.firstName,lastName:this.registerForm.value.lastName};this.submitting=!0,this.authService.registerTeacher(s).subscribe({next:()=>{this.submitting=!1,this.router.navigate(["/home"])},error:i=>{this.submitting=!1,console.error("Error completo:",i),alert("Error al registrar: "+(i.error?.message||"Error desconocido"))}})}else this.registerForm.markAllAsTouched()}goBack(){this.router.navigate(["/auth/select-role"])}static \u0275fac=function(i){return new(i||d)(l(F),l(b),l(P))};static \u0275cmp=u({type:d,selectors:[["app-register-teacher"]],decls:32,vars:3,consts:[[1,"register-container"],[1,"register-box"],[1,"register-title"],[1,"subtitle"],[3,"ngSubmit","formGroup"],[1,"form-row"],[1,"form-group"],[1,"form-label"],["type","text","formControlName","firstName",1,"form-control"],["type","text","formControlName","lastName",1,"form-control"],["type","email","formControlName","email",1,"form-control"],["type","password","formControlName","password",1,"form-control"],["type","password","formControlName","confirmPassword",1,"form-control"],["type","submit",1,"btn-register",3,"disabled"],[1,"link",3,"click"]],template:function(i,n){i&1&&(t(0,"div",0)(1,"div",1)(2,"h1",2),r(3,"StuNotes"),e(),t(4,"p",3),r(5,"\u{1F393} Registro como Profesor"),e(),t(6,"form",4),p("ngSubmit",function(){return n.onSubmit()}),t(7,"div",5)(8,"div",6)(9,"label",7),r(10,"Nombre"),e(),a(11,"input",8),e(),t(12,"div",6)(13,"label",7),r(14,"Apellido"),e(),a(15,"input",9),e()(),t(16,"div",6)(17,"label",7),r(18,"Correo electr\xF3nico"),e(),a(19,"input",10),e(),t(20,"div",6)(21,"label",7),r(22,"Contrase\xF1a"),e(),a(23,"input",11),e(),t(24,"div",6)(25,"label",7),r(26,"Confirmar contrase\xF1a"),e(),a(27,"input",12),e(),t(28,"button",13),r(29),e()(),t(30,"div",14),p("click",function(){return n.goBack()}),r(31,"\u2190 Volver"),e()()()),i&2&&(m(6),c("formGroup",n.registerForm),m(22),c("disabled",n.submitting),m(),g(" ",n.submitting?"Creando...":"Crear Cuenta"," "))},dependencies:[f,w,C,h,x,v,_,S],styles:["[_nghost-%COMP%]{font-family:Poppins,sans-serif}.register-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:60px 20px;background:#f6f0ff;min-height:100vh;text-align:center;animation:_ngcontent-%COMP%_fade-in-up .6s ease-out}@keyframes _ngcontent-%COMP%_fade-in-up{0%{opacity:0;transform:translateY(40px)}to{opacity:1;transform:translateY(0)}}.register-box[_ngcontent-%COMP%]{background:#fff;padding:40px;border-radius:16px;box-shadow:0 12px 40px #0000000f;max-width:480px;width:100%}.register-title[_ngcontent-%COMP%]{font-size:28px;font-weight:700;color:#7c3aed;margin-bottom:4px}.subtitle[_ngcontent-%COMP%]{font-size:14px;color:#6b7280;margin-bottom:24px}.form-row[_ngcontent-%COMP%]{display:flex;gap:32px;margin-bottom:6px}.form-group[_ngcontent-%COMP%]{flex:1;text-align:left}.form-label[_ngcontent-%COMP%]{font-weight:600;color:#374151;margin-bottom:6px;display:block;margin-left:-15px}.form-control[_ngcontent-%COMP%]{width:100%;padding:12px;border-radius:8px;border:2px solid #e5e7eb;font-size:14px;margin-left:-15px}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#7c3aed;box-shadow:0 0 0 3px #7c3aed1a}.btn-register[_ngcontent-%COMP%]{width:100%;margin-top:28px;padding:14px;font-size:16px;background:#7c3aed;color:#fff;font-weight:600;border:none;border-radius:8px;cursor:pointer;transition:all .2s ease}.btn-register[_ngcontent-%COMP%]:hover{background:#6d28d9}.link[_ngcontent-%COMP%]{color:#7c3aed;cursor:pointer;margin-top:16px;font-size:14px;display:inline-block;transition:color .2s ease}.link[_ngcontent-%COMP%]:hover{color:#6d28d9}"]})};export{N as RegisterTeacherComponent};
