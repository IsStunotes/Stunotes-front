import{a as S}from"./chunk-N3WNIR3L.js";import"./chunk-EJPFUGRK.js";import{a as v,b as c,c as h,d as C,g as _,j as x,k as P,q as M,s as y}from"./chunk-HZNXWY7S.js";import{f as b}from"./chunk-CTUQ4QRL.js";import{Lb as g,Oa as m,Pa as e,Qa as t,Ra as u,Va as p,cb as r,eb as f,pa as a,ta as s,za as d}from"./chunk-QV3KOCKX.js";import"./chunk-EQDQRRRY.js";var O=class l{constructor(n,o,i){this.fb=n;this.authService=o;this.router=i;this.form=this.fb.group({email:["",[c.required,c.email]]})}form;submitting=!1;onSubmit(){if(this.form.valid){this.submitting=!0;let n=this.form.value.email;this.authService.sendResetEmail(n).subscribe({next:()=>{alert("Se envi\xF3 un correo para restablecer tu contrase\xF1a."),this.router.navigate(["/auth"])},error:()=>{alert("Error al enviar el correo. Verifica el email ingresado."),this.submitting=!1}})}else this.form.markAllAsTouched()}static \u0275fac=function(o){return new(o||l)(s(M),s(S),s(b))};static \u0275cmp=d({type:l,selectors:[["app-recover"]],decls:15,vars:3,consts:[[1,"auth-container"],[1,"auth-box","animate-slide-up"],[1,"auth-title"],[1,"subtitle"],[3,"ngSubmit","formGroup"],[1,"form-group"],["type","email","formControlName","email"],["type","submit",3,"disabled"],["routerLink","/auth",1,"forgot-link"]],template:function(o,i){o&1&&(e(0,"div",0)(1,"div",1)(2,"h1",2),r(3,"StuNotes"),t(),e(4,"p",3),r(5,"\xBFOlvidaste tu contrase\xF1a? Ingresa tu correo y te enviaremos un enlace."),t(),e(6,"form",4),p("ngSubmit",function(){return i.onSubmit()}),e(7,"div",5)(8,"label"),r(9,"Correo electr\xF3nico"),t(),u(10,"input",6),t(),e(11,"button",7),r(12),t()(),e(13,"a",8),r(14,"Volver al inicio de sesi\xF3n"),t()()()),o&2&&(a(6),m("formGroup",i.form),a(5),m("disabled",i.submitting),a(),f(" ",i.submitting?"Enviando...":"Enviar correo de recuperaci\xF3n"," "))},dependencies:[g,y,_,v,h,C,x,P],styles:["[_nghost-%COMP%]{font-family:Poppins,sans-serif;display:block;background:#fdfdfd}.auth-container[_ngcontent-%COMP%]{background:#faf5ff;min-height:100vh;display:flex;align-items:center;justify-content:center}.auth-box[_ngcontent-%COMP%]{background:#fff;padding:2rem;border-radius:.75rem;box-shadow:0 10px 30px #0000000d;width:100%;max-width:450px;text-align:center;opacity:0;transform:translateY(40px);animation:_ngcontent-%COMP%_slide-up .6s ease forwards}.auth-title[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#7c3aed;margin-bottom:.5rem}.subtitle[_ngcontent-%COMP%]{margin-bottom:2rem;color:#6b7280}.form-group[_ngcontent-%COMP%]{margin-bottom:1rem;text-align:left}label[_ngcontent-%COMP%]{display:block;margin-bottom:.75rem;font-weight:500;color:#374151}input[_ngcontent-%COMP%]{box-sizing:border-box;width:100%;padding:.75rem;border:1px solid #e5e7eb;border-radius:.5rem;font-size:1rem;outline:none;transition:border-color .3s ease}input[_ngcontent-%COMP%]:focus{border-color:#7c3aed;box-shadow:0 0 0 2px #f3e8ff}button[type=submit][_ngcontent-%COMP%]{width:100%;padding:.75rem;background-color:#7c3aed;color:#fff;border:none;border-radius:.5rem;font-weight:600;font-size:1rem;margin-top:1rem;cursor:pointer;transition:background-color .3s ease}button[type=submit][_ngcontent-%COMP%]:hover{background-color:#7e22ce}.forgot-link[_ngcontent-%COMP%]{display:block;margin:1rem 0;color:#6b7280;cursor:pointer;font-size:.875rem}.divider[_ngcontent-%COMP%]{border-top:1px solid #e5e7eb;margin:1.5rem 0}.register-btn[_ngcontent-%COMP%]{width:100%;padding:.75rem;background:transparent;border:2px solid #7c3aed;color:#7c3aed;border-radius:.5rem;font-weight:600;font-size:1rem;cursor:pointer;transition:all .3s ease}.register-btn[_ngcontent-%COMP%]:hover{background-color:#f3e8ff}@keyframes _ngcontent-%COMP%_slide-up{to{opacity:1;transform:translateY(0)}}"]})};export{O as RecoverComponent};
